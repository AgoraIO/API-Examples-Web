/**
 * AgoraExtensionAIDenoiser-1.1.0-9019a23(11/10/2022, 5:31:24 PM) Copyright AgoraInc.
 */

!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AIDenoiser={})}(this,(function(e){"use strict";var t,r;e.AIDenoiserProcessorMode=void 0,(t=e.AIDenoiserProcessorMode||(e.AIDenoiserProcessorMode={})).STATIONARY_NS="STATIONARY_NS",t.NSNG="NSNG",e.AIDenoiserProcessorLevel=void 0,(r=e.AIDenoiserProcessorLevel||(e.AIDenoiserProcessorLevel={})).SOFT="SOFT",r.AGGRESSIVE="AGGRESSIVE";var n={exports:{}};function o(e,t,r,n){return new(r||(r=Promise))((function(o,i){function a(e){try{u(n.next(e))}catch(e){i(e)}}function s(e){try{u(n.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}!function(e,t){var r;self,r=()=>(()=>{var e={3536:(e,t,r)=>{var n=r(1910);e.exports=n},8171:(e,t,r)=>{r(6450);var n=r(4058).Object,o=e.exports=function(e,t,r){return n.defineProperty(e,t,r)};n.defineProperty.sham&&(o.sham=!0)},2956:(e,t,r)=>{r(7627),r(6274),r(5967),r(8881),r(4560),r(7206),r(4349),r(7971);var n=r(4058);e.exports=n.Promise},3685:(e,t,r)=>{e.exports=r(621)},621:(e,t,r)=>{var n=r(3536);e.exports=n},4883:(e,t,r)=>{var n=r(7475),o=r(9826),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},174:(e,t,r)=>{var n=r(4284),o=r(9826),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a constructor")}},1851:(e,t,r)=>{var n=r(7475),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},8479:e=>{e.exports=function(){}},5743:(e,t,r)=>{var n=r(7046),o=TypeError;e.exports=function(e,t){if(n(t,e))return e;throw o("Incorrect invocation")}},6059:(e,t,r)=>{var n=r(941),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},1692:(e,t,r)=>{var n=r(4529),o=r(9413),i=r(623),a=function(e){return function(t,r,a){var s,u=n(t),c=i(u),l=o(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},3765:(e,t,r)=>{var n=r(5329);e.exports=n([].slice)},1385:(e,t,r)=>{var n=r(9813)("iterator"),o=!1;try{var i=0,a={next:function(){return{done:!!i++}},return:function(){o=!0}};a[n]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var r=!1;try{var i={};i[n]=function(){return{next:function(){return{done:r=!0}}}},e(i)}catch(e){}return r}},2532:(e,t,r)=>{var n=r(4163),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},9697:(e,t,r)=>{var n=r(2885),o=r(7475),i=r(2532),a=r(9813)("toStringTag"),s=Object,u="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:u?i(t):"Object"==(n=i(t))&&o(t.callee)?"Arguments":n}},3489:(e,t,r)=>{var n=r(953),o=r(1136),i=r(9677),a=r(5988);e.exports=function(e,t,r){for(var s=o(t),u=a.f,c=i.f,l=0;l<s.length;l++){var f=s[l];n(e,f)||r&&n(r,f)||u(e,f,c(t,f))}}},4160:(e,t,r)=>{var n=r(5981);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},3538:e=>{e.exports=function(e,t){return{value:e,done:t}}},2029:(e,t,r)=>{var n=r(5746),o=r(5988),i=r(1887);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},1887:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},5929:(e,t,r)=>{var n=r(2029);e.exports=function(e,t,r,o){return o&&o.enumerable?e[t]=r:n(e,t,r),e}},5609:(e,t,r)=>{var n=r(1899),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},5746:(e,t,r)=>{var n=r(5981);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},6616:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},1333:(e,t,r)=>{var n=r(1899),o=r(941),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},3281:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},3321:(e,t,r)=>{var n=r(8501),o=r(6049);e.exports=!n&&!o&&"object"==typeof window&&"object"==typeof document},8501:e=>{e.exports="object"==typeof Deno&&Deno&&"object"==typeof Deno.version},4470:(e,t,r)=>{var n=r(2861),o=r(1899);e.exports=/ipad|iphone|ipod/i.test(n)&&void 0!==o.Pebble},2749:(e,t,r)=>{var n=r(2861);e.exports=/(?:ipad|iphone|ipod).*applewebkit/i.test(n)},6049:(e,t,r)=>{var n=r(2532),o=r(1899);e.exports="process"==n(o.process)},8045:(e,t,r)=>{var n=r(2861);e.exports=/web0s(?!.*chrome)/i.test(n)},2861:(e,t,r)=>{var n=r(626);e.exports=n("navigator","userAgent")||""},3385:(e,t,r)=>{var n,o,i=r(1899),a=r(2861),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},6759:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3995:(e,t,r)=>{var n=r(5329),o=Error,i=n("".replace),a=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);e.exports=function(e,t){if(u&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},8780:(e,t,r)=>{var n=r(5981),o=r(1887);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},6887:(e,t,r)=>{var n=r(1899),o=r(9730),i=r(5329),a=r(7475),s=r(9677).f,u=r(7252),c=r(4058),l=r(6843),f=r(2029),p=r(953),h=function(e){var t=function(r,n,i){if(this instanceof t){switch(arguments.length){case 0:return new e;case 1:return new e(r);case 2:return new e(r,n)}return new e(r,n,i)}return o(e,this,arguments)};return t.prototype=e.prototype,t};e.exports=function(e,t){var r,o,d,v,g,m,y,b,w=e.target,x=e.global,S=e.stat,A=e.proto,O=x?n:S?n[w]:(n[w]||{}).prototype,E=x?c:c[w]||f(c,w,{})[w],k=E.prototype;for(d in t)r=!u(x?d:w+(S?".":"#")+d,e.forced)&&O&&p(O,d),g=E[d],r&&(m=e.dontCallGetSet?(b=s(O,d))&&b.value:O[d]),v=r&&m?m:t[d],r&&typeof g==typeof v||(y=e.bind&&r?l(v,n):e.wrap&&r?h(v):A&&a(v)?i(v):v,(e.sham||v&&v.sham||g&&g.sham)&&f(y,"sham",!0),f(E,d,y),A&&(p(c,o=w+"Prototype")||f(c,o,{}),f(c[o],d,v),e.real&&k&&!k[d]&&f(k,d,v)))}},5981:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},9730:(e,t,r)=>{var n=r(8285),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},6843:(e,t,r)=>{var n=r(5329),o=r(4883),i=r(8285),a=n(n.bind);e.exports=function(e,t){return o(e),void 0===t?e:i?a(e,t):function(){return e.apply(t,arguments)}}},8285:(e,t,r)=>{var n=r(5981);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},8834:(e,t,r)=>{var n=r(8285),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},9417:(e,t,r)=>{var n=r(5746),o=r(953),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},4163:(e,t,r)=>{var n=r(8285),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},5329:(e,t,r)=>{var n=r(2532),o=r(4163);e.exports=function(e){if("Function"===n(e))return o(e)}},626:(e,t,r)=>{var n=r(4058),o=r(1899),i=r(7475),a=function(e){return i(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?a(n[e])||a(o[e]):n[e]&&n[e][t]||o[e]&&o[e][t]}},2902:(e,t,r)=>{var n=r(9697),o=r(4229),i=r(2119),a=r(2077),s=r(9813)("iterator");e.exports=function(e){if(!i(e))return o(e,s)||o(e,"@@iterator")||a[n(e)]}},3476:(e,t,r)=>{var n=r(8834),o=r(4883),i=r(6059),a=r(9826),s=r(2902),u=TypeError;e.exports=function(e,t){var r=arguments.length<2?s(e):t;if(o(r))return i(n(r,e));throw u(a(e)+" is not iterable")}},4229:(e,t,r)=>{var n=r(4883),o=r(2119);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},1899:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},953:(e,t,r)=>{var n=r(5329),o=r(9678),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},7748:e=>{e.exports={}},4845:(e,t,r)=>{var n=r(1899);e.exports=function(e,t){var r=n.console;r&&r.error&&(1==arguments.length?r.error(e):r.error(e,t))}},5463:(e,t,r)=>{var n=r(626);e.exports=n("document","documentElement")},2840:(e,t,r)=>{var n=r(5746),o=r(5981),i=r(1333);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},7026:(e,t,r)=>{var n=r(5329),o=r(5981),i=r(2532),a=Object,s=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},1302:(e,t,r)=>{var n=r(5329),o=r(7475),i=r(3030),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},3794:(e,t,r)=>{var n=r(941),o=r(2029);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},5402:(e,t,r)=>{var n,o,i,a=r(7093),s=r(1899),u=r(941),c=r(2029),l=r(953),f=r(3030),p=r(4262),h=r(7748),d="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw v(d);return t.facade=e,m.set(e,t),t},o=function(e){return m.get(e)||{}},i=function(e){return m.has(e)}}else{var y=p("state");h[y]=!0,n=function(e,t){if(l(e,y))throw v(d);return t.facade=e,c(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},6782:(e,t,r)=>{var n=r(9813),o=r(2077),i=n("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(o.Array===e||a[i]===e)}},7475:(e,t,r)=>{var n=r(6616),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4284:(e,t,r)=>{var n=r(5329),o=r(5981),i=r(7475),a=r(9697),s=r(626),u=r(1302),c=function(){},l=[],f=s("Reflect","construct"),p=/^\s*(?:class|function)\b/,h=n(p.exec),d=!p.exec(c),v=function(e){if(!i(e))return!1;try{return f(c,l,e),!0}catch(e){return!1}},g=function(e){if(!i(e))return!1;switch(a(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!h(p,u(e))}catch(e){return!0}};g.sham=!0,e.exports=!f||o((function(){var e;return v(v.call)||!v(Object)||!v((function(){e=!0}))||e}))?g:v},7252:(e,t,r)=>{var n=r(5981),o=r(7475),i=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},2119:e=>{e.exports=function(e){return null==e}},941:(e,t,r)=>{var n=r(7475),o=r(6616),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},2529:e=>{e.exports=!0},6664:(e,t,r)=>{var n=r(626),o=r(7475),i=r(7046),a=r(2302),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},3091:(e,t,r)=>{var n=r(6843),o=r(8834),i=r(6059),a=r(9826),s=r(6782),u=r(623),c=r(7046),l=r(3476),f=r(2902),p=r(7609),h=TypeError,d=function(e,t){this.stopped=e,this.result=t},v=d.prototype;e.exports=function(e,t,r){var g,m,y,b,w,x,S,A=r&&r.that,O=!(!r||!r.AS_ENTRIES),E=!(!r||!r.IS_RECORD),k=!(!r||!r.IS_ITERATOR),T=!(!r||!r.INTERRUPTED),P=n(t,A),_=function(e){return g&&p(g,"normal",e),new d(!0,e)},j=function(e){return O?(i(e),T?P(e[0],e[1],_):P(e[0],e[1])):T?P(e,_):P(e)};if(E)g=e.iterator;else if(k)g=e;else{if(!(m=f(e)))throw h(a(e)+" is not iterable");if(s(m)){for(y=0,b=u(e);b>y;y++)if((w=j(e[y]))&&c(v,w))return w;return new d(!1)}g=l(e,m)}for(x=E?e.next:g.next;!(S=o(x,g)).done;){try{w=j(S.value)}catch(e){p(g,"throw",e)}if("object"==typeof w&&w&&c(v,w))return w}return new d(!1)}},7609:(e,t,r)=>{var n=r(8834),o=r(6059),i=r(4229);e.exports=function(e,t,r){var a,s;o(e);try{if(!(a=i(e,"return"))){if("throw"===t)throw r;return r}a=n(a,e)}catch(e){s=!0,a=e}if("throw"===t)throw r;if(s)throw a;return o(a),r}},3847:(e,t,r)=>{var n=r(5143).IteratorPrototype,o=r(9290),i=r(1887),a=r(904),s=r(2077),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!c,r)}),a(e,l,!1,!0),s[l]=u,e}},5105:(e,t,r)=>{var n=r(6887),o=r(8834),i=r(2529),a=r(9417),s=r(7475),u=r(3847),c=r(249),l=r(8929),f=r(904),p=r(2029),h=r(5929),d=r(9813),v=r(2077),g=r(5143),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,x=d("iterator"),S="keys",A="values",O="entries",E=function(){return this};e.exports=function(e,t,r,a,d,g,k){u(r,t,a);var T,P,_,j=function(e){if(e===d&&M)return M;if(!w&&e in C)return C[e];switch(e){case S:case A:case O:return function(){return new r(this,e)}}return function(){return new r(this)}},D=t+" Iterator",I=!1,C=e.prototype,R=C[x]||C["@@iterator"]||d&&C[d],M=!w&&R||j(d),N="Array"==t&&C.entries||R;if(N&&(T=c(N.call(new e)))!==Object.prototype&&T.next&&(i||c(T)===b||(l?l(T,b):s(T[x])||h(T,x,E)),f(T,D,!0,!0),i&&(v[D]=E)),m&&d==A&&R&&R.name!==A&&(!i&&y?p(C,"name",A):(I=!0,M=function(){return o(R,this)})),d)if(P={values:j(A),keys:g?M:j(S),entries:j(O)},k)for(_ in P)(w||I||!(_ in C))&&h(C,_,P[_]);else n({target:t,proto:!0,forced:w||I},P);return i&&!k||C[x]===M||h(C,x,M,{name:d}),v[t]=M,P}},5143:(e,t,r)=>{var n,o,i,a=r(5981),s=r(7475),u=r(941),c=r(9290),l=r(249),f=r(5929),p=r(9813),h=r(2529),d=p("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):v=!0),!u(n)||a((function(){var e={};return n[d].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[d])||f(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},2077:e=>{e.exports={}},623:(e,t,r)=>{var n=r(3057);e.exports=function(e){return n(e.length)}},5331:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},6132:(e,t,r)=>{var n,o,i,a,s,u,c,l,f=r(1899),p=r(6843),h=r(9677).f,d=r(2941).set,v=r(2749),g=r(4470),m=r(8045),y=r(6049),b=f.MutationObserver||f.WebKitMutationObserver,w=f.document,x=f.process,S=f.Promise,A=h(f,"queueMicrotask"),O=A&&A.value;O||(n=function(){var e,t;for(y&&(e=x.domain)&&e.exit();o;){t=o.fn,o=o.next;try{t()}catch(e){throw o?a():i=void 0,e}}i=void 0,e&&e.enter()},v||y||m||!b||!w?!g&&S&&S.resolve?((c=S.resolve(void 0)).constructor=S,l=p(c.then,c),a=function(){l(n)}):y?a=function(){x.nextTick(n)}:(d=p(d,f),a=function(){d(n)}):(s=!0,u=w.createTextNode(""),new b(n).observe(u,{characterData:!0}),a=function(){u.data=s=!s})),e.exports=O||function(e){var t={fn:e,next:void 0};i&&(i.next=t),o||(o=t,a()),i=t}},9520:(e,t,r)=>{var n=r(4883),o=TypeError,i=function(e){var t,r;this.promise=new e((function(e,n){if(void 0!==t||void 0!==r)throw o("Bad Promise constructor");t=e,r=n})),this.resolve=n(t),this.reject=n(r)};e.exports.f=function(e){return new i(e)}},4649:(e,t,r)=>{var n=r(5803);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},9290:(e,t,r)=>{var n,o=r(6059),i=r(9938),a=r(6759),s=r(7748),u=r(5463),c=r(1333),l=r(4262)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},d=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;d="undefined"!=typeof document?document.domain&&n?h(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):h(n);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=d(),void 0===t?r:i.f(r,t)}},9938:(e,t,r)=>{var n=r(5746),o=r(3937),i=r(5988),a=r(6059),s=r(4529),u=r(4771);t.f=n&&!o?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),o=u(t),c=o.length,l=0;c>l;)i.f(e,r=o[l++],n[r]);return e}},5988:(e,t,r)=>{var n=r(5746),o=r(2840),i=r(3937),a=r(6059),s=r(3894),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},9677:(e,t,r)=>{var n=r(5746),o=r(8834),i=r(6760),a=r(1887),s=r(4529),u=r(3894),c=r(953),l=r(2840),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},946:(e,t,r)=>{var n=r(5629),o=r(6759).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},7857:(e,t)=>{t.f=Object.getOwnPropertySymbols},249:(e,t,r)=>{var n=r(953),o=r(7475),i=r(9678),a=r(4262),s=r(4160),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(n(t,u))return t[u];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},7046:(e,t,r)=>{var n=r(5329);e.exports=n({}.isPrototypeOf)},5629:(e,t,r)=>{var n=r(5329),o=r(953),i=r(4529),a=r(1692).indexOf,s=r(7748),u=n([].push);e.exports=function(e,t){var r,n=i(e),c=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&u(l,r);for(;t.length>c;)o(n,r=t[c++])&&(~a(l,r)||u(l,r));return l}},4771:(e,t,r)=>{var n=r(5629),o=r(6759);e.exports=Object.keys||function(e){return n(e,o)}},6760:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},8929:(e,t,r)=>{var n=r(5329),o=r(6059),i=r(1851);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},5623:(e,t,r)=>{var n=r(2885),o=r(9697);e.exports=n?{}.toString:function(){return"[object "+o(this)+"]"}},9811:(e,t,r)=>{var n=r(8834),o=r(7475),i=r(941),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},1136:(e,t,r)=>{var n=r(626),o=r(5329),i=r(946),a=r(7857),s=r(6059),u=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=a.f;return r?u(t,r(e)):t}},4058:e=>{e.exports={}},2:e=>{e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},7742:(e,t,r)=>{var n=r(1899),o=r(6991),i=r(7475),a=r(7252),s=r(1302),u=r(9813),c=r(3321),l=r(8501),f=r(2529),p=r(3385),h=o&&o.prototype,d=u("species"),v=!1,g=i(n.PromiseRejectionEvent),m=a("Promise",(function(){var e=s(o),t=e!==String(o);if(!t&&66===p)return!0;if(f&&(!h.catch||!h.finally))return!0;if(!p||p<51||!/native code/.test(e)){var r=new o((function(e){e(1)})),n=function(e){e((function(){}),(function(){}))};if((r.constructor={})[d]=n,!(v=r.then((function(){}))instanceof n))return!0}return!t&&(c||l)&&!g}));e.exports={CONSTRUCTOR:m,REJECTION_EVENT:g,SUBCLASSING:v}},6991:(e,t,r)=>{var n=r(1899);e.exports=n.Promise},6584:(e,t,r)=>{var n=r(6059),o=r(941),i=r(9520);e.exports=function(e,t){if(n(e),o(t)&&t.constructor===e)return t;var r=i.f(e);return(0,r.resolve)(t),r.promise}},1542:(e,t,r)=>{var n=r(6991),o=r(1385),i=r(7742).CONSTRUCTOR;e.exports=i||!o((function(e){n.all(e).then(void 0,(function(){}))}))},8397:e=>{var t=function(){this.head=null,this.tail=null};t.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}},e.exports=t},8219:(e,t,r)=>{var n=r(2119),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},4431:(e,t,r)=>{var n=r(626),o=r(5988),i=r(9813),a=r(5746),s=i("species");e.exports=function(e){var t=n(e),r=o.f;a&&t&&!t[s]&&r(t,s,{configurable:!0,get:function(){return this}})}},904:(e,t,r)=>{var n=r(2885),o=r(5988).f,i=r(2029),a=r(953),s=r(5623),u=r(9813)("toStringTag");e.exports=function(e,t,r,c){if(e){var l=r?e:e.prototype;a(l,u)||o(l,u,{configurable:!0,value:t}),c&&!n&&i(l,"toString",s)}}},4262:(e,t,r)=>{var n=r(8726),o=r(9418),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},3030:(e,t,r)=>{var n=r(1899),o=r(5609),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},8726:(e,t,r)=>{var n=r(2529),o=r(3030);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},487:(e,t,r)=>{var n=r(6059),o=r(174),i=r(2119),a=r(9813)("species");e.exports=function(e,t){var r,s=n(e).constructor;return void 0===s||i(r=n(s)[a])?t:o(r)}},4620:(e,t,r)=>{var n=r(5329),o=r(2435),i=r(5803),a=r(8219),s=n("".charAt),u=n("".charCodeAt),c=n("".slice),l=function(e){return function(t,r){var n,l,f=i(a(t)),p=o(r),h=f.length;return p<0||p>=h?e?"":void 0:(n=u(f,p))<55296||n>56319||p+1===h||(l=u(f,p+1))<56320||l>57343?e?s(f,p):n:e?c(f,p,p+2):l-56320+(n-55296<<10)+65536}};e.exports={codeAt:l(!1),charAt:l(!0)}},3405:(e,t,r)=>{var n=r(3385),o=r(5981);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},2941:(e,t,r)=>{var n,o,i,a,s=r(1899),u=r(9730),c=r(6843),l=r(7475),f=r(953),p=r(5981),h=r(5463),d=r(3765),v=r(1333),g=r(8348),m=r(2749),y=r(6049),b=s.setImmediate,w=s.clearImmediate,x=s.process,S=s.Dispatch,A=s.Function,O=s.MessageChannel,E=s.String,k=0,T={};try{n=s.location}catch(e){}var P=function(e){if(f(T,e)){var t=T[e];delete T[e],t()}},_=function(e){return function(){P(e)}},j=function(e){P(e.data)},D=function(e){s.postMessage(E(e),n.protocol+"//"+n.host)};b&&w||(b=function(e){g(arguments.length,1);var t=l(e)?e:A(e),r=d(arguments,1);return T[++k]=function(){u(t,void 0,r)},o(k),k},w=function(e){delete T[e]},y?o=function(e){x.nextTick(_(e))}:S&&S.now?o=function(e){S.now(_(e))}:O&&!m?(a=(i=new O).port2,i.port1.onmessage=j,o=c(a.postMessage,a)):s.addEventListener&&l(s.postMessage)&&!s.importScripts&&n&&"file:"!==n.protocol&&!p(D)?(o=D,s.addEventListener("message",j,!1)):o="onreadystatechange"in v("script")?function(e){h.appendChild(v("script")).onreadystatechange=function(){h.removeChild(this),P(e)}}:function(e){setTimeout(_(e),0)}),e.exports={set:b,clear:w}},9413:(e,t,r)=>{var n=r(2435),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},4529:(e,t,r)=>{var n=r(7026),o=r(8219);e.exports=function(e){return n(o(e))}},2435:(e,t,r)=>{var n=r(5331);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3057:(e,t,r)=>{var n=r(2435),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},9678:(e,t,r)=>{var n=r(8219),o=Object;e.exports=function(e){return o(n(e))}},6935:(e,t,r)=>{var n=r(8834),o=r(941),i=r(6664),a=r(4229),s=r(9811),u=r(9813),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},3894:(e,t,r)=>{var n=r(6935),o=r(6664);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},2885:(e,t,r)=>{var n={};n[r(9813)("toStringTag")]="z",e.exports="[object z]"===String(n)},5803:(e,t,r)=>{var n=r(9697),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},9826:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9418:(e,t,r)=>{var n=r(5329),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},2302:(e,t,r)=>{var n=r(3405);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3937:(e,t,r)=>{var n=r(5746),o=r(5981);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},8348:e=>{var t=TypeError;e.exports=function(e,r){if(e<r)throw t("Not enough arguments");return e}},7093:(e,t,r)=>{var n=r(1899),o=r(7475),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},9813:(e,t,r)=>{var n=r(1899),o=r(8726),i=r(953),a=r(9418),s=r(3405),u=r(2302),c=o("wks"),l=n.Symbol,f=l&&l.for,p=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&i(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):p(t)}return c[e]}},9812:(e,t,r)=>{var n=r(6887),o=r(7046),i=r(249),a=r(8929),s=r(3489),u=r(9290),c=r(2029),l=r(1887),f=r(3995),p=r(3794),h=r(3091),d=r(4649),v=r(9813),g=r(8780),m=v("toStringTag"),y=Error,b=[].push,w=function(e,t){var r,n=arguments.length>2?arguments[2]:void 0,s=o(x,this);a?r=a(y(),s?i(this):x):(r=s?this:u(x),c(r,m,"Error")),void 0!==t&&c(r,"message",d(t)),g&&c(r,"stack",f(r.stack,1)),p(r,n);var l=[];return h(e,b,{that:l}),c(r,"errors",l),r};a?a(w,y):s(w,y,{name:!0});var x=w.prototype=u(y.prototype,{constructor:l(1,w),message:l(1,""),name:l(1,"AggregateError")});n({global:!0,constructor:!0,arity:2},{AggregateError:w})},7627:(e,t,r)=>{r(9812)},6274:(e,t,r)=>{var n=r(4529),o=r(8479),i=r(2077),a=r(5402),s=r(5988).f,u=r(5105),c=r(3538),l=r(2529),f=r(5746),p="Array Iterator",h=a.set,d=a.getterFor(p);e.exports=u(Array,"Array",(function(e,t){h(this,{type:p,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var v=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(e){}},6450:(e,t,r)=>{var n=r(6887),o=r(5746),i=r(5988).f;n({target:"Object",stat:!0,forced:Object.defineProperty!==i,sham:!o},{defineProperty:i})},5967:()=>{},4560:(e,t,r)=>{var n=r(6887),o=r(8834),i=r(4883),a=r(9520),s=r(2),u=r(3091);n({target:"Promise",stat:!0},{allSettled:function(e){var t=this,r=a.f(t),n=r.resolve,c=r.reject,l=s((function(){var r=i(t.resolve),a=[],s=0,c=1;u(e,(function(e){var i=s++,u=!1;c++,o(r,t,e).then((function(e){u||(u=!0,a[i]={status:"fulfilled",value:e},--c||n(a))}),(function(e){u||(u=!0,a[i]={status:"rejected",reason:e},--c||n(a))}))})),--c||n(a)}));return l.error&&c(l.value),r.promise}})},6890:(e,t,r)=>{var n=r(6887),o=r(8834),i=r(4883),a=r(9520),s=r(2),u=r(3091);n({target:"Promise",stat:!0,forced:r(1542)},{all:function(e){var t=this,r=a.f(t),n=r.resolve,c=r.reject,l=s((function(){var r=i(t.resolve),a=[],s=0,l=1;u(e,(function(e){var i=s++,u=!1;l++,o(r,t,e).then((function(e){u||(u=!0,a[i]=e,--l||n(a))}),c)})),--l||n(a)}));return l.error&&c(l.value),r.promise}})},7206:(e,t,r)=>{var n=r(6887),o=r(8834),i=r(4883),a=r(626),s=r(9520),u=r(2),c=r(3091),l="No one promise resolved";n({target:"Promise",stat:!0},{any:function(e){var t=this,r=a("AggregateError"),n=s.f(t),f=n.resolve,p=n.reject,h=u((function(){var n=i(t.resolve),a=[],s=0,u=1,h=!1;c(e,(function(e){var i=s++,c=!1;u++,o(n,t,e).then((function(e){c||h||(h=!0,f(e))}),(function(e){c||h||(c=!0,a[i]=e,--u||p(new r(a,l)))}))})),--u||p(new r(a,l))}));return h.error&&p(h.value),n.promise}})},3376:(e,t,r)=>{var n=r(6887),o=r(2529),i=r(7742).CONSTRUCTOR,a=r(6991),s=r(626),u=r(7475),c=r(5929),l=a&&a.prototype;if(n({target:"Promise",proto:!0,forced:i,real:!0},{catch:function(e){return this.then(void 0,e)}}),!o&&u(a)){var f=s("Promise").prototype.catch;l.catch!==f&&c(l,"catch",f,{unsafe:!0})}},6934:(e,t,r)=>{var n,o,i,a=r(6887),s=r(2529),u=r(6049),c=r(1899),l=r(8834),f=r(5929),p=r(8929),h=r(904),d=r(4431),v=r(4883),g=r(7475),m=r(941),y=r(5743),b=r(487),w=r(2941).set,x=r(6132),S=r(4845),A=r(2),O=r(8397),E=r(5402),k=r(6991),T=r(7742),P=r(9520),_="Promise",j=T.CONSTRUCTOR,D=T.REJECTION_EVENT,I=T.SUBCLASSING,C=E.getterFor(_),R=E.set,M=k&&k.prototype,N=k,L=M,F=c.TypeError,W=c.document,U=c.process,B=P.f,G=B,V=!!(W&&W.createEvent&&c.dispatchEvent),H="unhandledrejection",Y=function(e){var t;return!(!m(e)||!g(t=e.then))&&t},$=function(e,t){var r,n,o,i=t.value,a=1==t.state,s=a?e.ok:e.fail,u=e.resolve,c=e.reject,f=e.domain;try{s?(a||(2===t.rejection&&X(t),t.rejection=1),!0===s?r=i:(f&&f.enter(),r=s(i),f&&(f.exit(),o=!0)),r===e.promise?c(F("Promise-chain cycle")):(n=Y(r))?l(n,r,u,c):u(r)):c(i)}catch(e){f&&!o&&f.exit(),c(e)}},z=function(e,t){e.notified||(e.notified=!0,x((function(){for(var r,n=e.reactions;r=n.get();)$(r,e);e.notified=!1,t&&!e.rejection&&J(e)})))},q=function(e,t,r){var n,o;V?((n=W.createEvent("Event")).promise=t,n.reason=r,n.initEvent(e,!1,!0),c.dispatchEvent(n)):n={promise:t,reason:r},!D&&(o=c["on"+e])?o(n):e===H&&S("Unhandled promise rejection",r)},J=function(e){l(w,c,(function(){var t,r=e.facade,n=e.value;if(K(e)&&(t=A((function(){u?U.emit("unhandledRejection",n,r):q(H,r,n)})),e.rejection=u||K(e)?2:1,t.error))throw t.value}))},K=function(e){return 1!==e.rejection&&!e.parent},X=function(e){l(w,c,(function(){var t=e.facade;u?U.emit("rejectionHandled",t):q("rejectionhandled",t,e.value)}))},Q=function(e,t,r){return function(n){e(t,n,r)}},Z=function(e,t,r){e.done||(e.done=!0,r&&(e=r),e.value=t,e.state=2,z(e,!0))},ee=function(e,t,r){if(!e.done){e.done=!0,r&&(e=r);try{if(e.facade===t)throw F("Promise can't be resolved itself");var n=Y(t);n?x((function(){var r={done:!1};try{l(n,t,Q(ee,r,e),Q(Z,r,e))}catch(t){Z(r,t,e)}})):(e.value=t,e.state=1,z(e,!1))}catch(t){Z({done:!1},t,e)}}};if(j&&(L=(N=function(e){y(this,L),v(e),l(n,this);var t=C(this);try{e(Q(ee,t),Q(Z,t))}catch(e){Z(t,e)}}).prototype,(n=function(e){R(this,{type:_,done:!1,notified:!1,parent:!1,reactions:new O,rejection:!1,state:0,value:void 0})}).prototype=f(L,"then",(function(e,t){var r=C(this),n=B(b(this,N));return r.parent=!0,n.ok=!g(e)||e,n.fail=g(t)&&t,n.domain=u?U.domain:void 0,0==r.state?r.reactions.add(n):x((function(){$(n,r)})),n.promise})),o=function(){var e=new n,t=C(e);this.promise=e,this.resolve=Q(ee,t),this.reject=Q(Z,t)},P.f=B=function(e){return e===N||void 0===e?new o(e):G(e)},!s&&g(k)&&M!==Object.prototype)){i=M.then,I||f(M,"then",(function(e,t){var r=this;return new N((function(e,t){l(i,r,e,t)})).then(e,t)}),{unsafe:!0});try{delete M.constructor}catch(e){}p&&p(M,L)}a({global:!0,constructor:!0,wrap:!0,forced:j},{Promise:N}),h(N,_,!1,!0),d(_)},4349:(e,t,r)=>{var n=r(6887),o=r(2529),i=r(6991),a=r(5981),s=r(626),u=r(7475),c=r(487),l=r(6584),f=r(5929),p=i&&i.prototype;if(n({target:"Promise",proto:!0,real:!0,forced:!!i&&a((function(){p.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=c(this,s("Promise")),r=u(e);return this.then(r?function(r){return l(t,e()).then((function(){return r}))}:e,r?function(r){return l(t,e()).then((function(){throw r}))}:e)}}),!o&&u(i)){var h=s("Promise").prototype.finally;p.finally!==h&&f(p,"finally",h,{unsafe:!0})}},8881:(e,t,r)=>{r(6934),r(6890),r(3376),r(5921),r(4069),r(4482)},5921:(e,t,r)=>{var n=r(6887),o=r(8834),i=r(4883),a=r(9520),s=r(2),u=r(3091);n({target:"Promise",stat:!0,forced:r(1542)},{race:function(e){var t=this,r=a.f(t),n=r.reject,c=s((function(){var a=i(t.resolve);u(e,(function(e){o(a,t,e).then(r.resolve,n)}))}));return c.error&&n(c.value),r.promise}})},4069:(e,t,r)=>{var n=r(6887),o=r(8834),i=r(9520);n({target:"Promise",stat:!0,forced:r(7742).CONSTRUCTOR},{reject:function(e){var t=i.f(this);return o(t.reject,void 0,e),t.promise}})},4482:(e,t,r)=>{var n=r(6887),o=r(626),i=r(2529),a=r(6991),s=r(7742).CONSTRUCTOR,u=r(6584),c=o("Promise"),l=i&&!s;n({target:"Promise",stat:!0,forced:i||s},{resolve:function(e){return u(l&&this===c?a:this,e)}})},7971:(e,t,r)=>{var n=r(4620).charAt,o=r(5803),i=r(5402),a=r(5105),s=r(3538),u="String Iterator",c=i.set,l=i.getterFor(u);a(String,"String",(function(e){c(this,{type:u,string:o(e),index:0})}),(function(){var e,t=l(this),r=t.string,o=t.index;return o>=r.length?s(void 0,!0):(e=n(r,o),t.index+=e.length,s(e,!1))}))},7634:(e,t,r)=>{r(6274);var n=r(3281),o=r(1899),i=r(9697),a=r(2029),s=r(2077),u=r(9813)("toStringTag");for(var c in n){var l=o[c],f=l&&l.prototype;f&&i(f)!==u&&a(f,u,c),s[c]=s.Array}},1910:(e,t,r)=>{var n=r(8171);e.exports=n},7460:(e,t,r)=>{var n=r(2956);r(7634),e.exports=n},9662:(e,t,r)=>{var n=r(614),o=r(6330),i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not a function")}},6077:(e,t,r)=>{var n=r(614),o=String,i=TypeError;e.exports=function(e){if("object"==typeof e||n(e))return e;throw i("Can't set "+o(e)+" as a prototype")}},1223:(e,t,r)=>{var n=r(5112),o=r(30),i=r(3070).f,a=n("unscopables"),s=Array.prototype;null==s[a]&&i(s,a,{configurable:!0,value:o(null)}),e.exports=function(e){s[a][e]=!0}},9670:(e,t,r)=>{var n=r(111),o=String,i=TypeError;e.exports=function(e){if(n(e))return e;throw i(o(e)+" is not an object")}},1318:(e,t,r)=>{var n=r(5656),o=r(1400),i=r(6244),a=function(e){return function(t,r,a){var s,u=n(t),c=i(u),l=o(a,c);if(e&&r!=r){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===r)return e||l||0;return!e&&-1}};e.exports={includes:a(!0),indexOf:a(!1)}},4326:(e,t,r)=>{var n=r(84),o=n({}.toString),i=n("".slice);e.exports=function(e){return i(o(e),8,-1)}},648:(e,t,r)=>{var n=r(1694),o=r(614),i=r(4326),a=r(5112)("toStringTag"),s=Object,u="Arguments"==i(function(){return arguments}());e.exports=n?i:function(e){var t,r,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(r=function(e,t){try{return e[t]}catch(e){}}(t=s(e),a))?r:u?i(t):"Object"==(n=i(t))&&o(t.callee)?"Arguments":n}},9920:(e,t,r)=>{var n=r(2597),o=r(3887),i=r(1236),a=r(3070);e.exports=function(e,t,r){for(var s=o(t),u=a.f,c=i.f,l=0;l<s.length;l++){var f=s[l];n(e,f)||r&&n(r,f)||u(e,f,c(t,f))}}},8544:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},6178:e=>{e.exports=function(e,t){return{value:e,done:t}}},8880:(e,t,r)=>{var n=r(9781),o=r(3070),i=r(9114);e.exports=n?function(e,t,r){return o.f(e,t,i(1,r))}:function(e,t,r){return e[t]=r,e}},9114:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},8052:(e,t,r)=>{var n=r(614),o=r(3070),i=r(6339),a=r(3072);e.exports=function(e,t,r,s){s||(s={});var u=s.enumerable,c=void 0!==s.name?s.name:t;if(n(r)&&i(r,c,s),s.global)u?e[t]=r:a(t,r);else{try{s.unsafe?e[t]&&(u=!0):delete e[t]}catch(e){}u?e[t]=r:o.f(e,t,{value:r,enumerable:!1,configurable:!s.nonConfigurable,writable:!s.nonWritable})}return e}},3072:(e,t,r)=>{var n=r(7854),o=Object.defineProperty;e.exports=function(e,t){try{o(n,e,{value:t,configurable:!0,writable:!0})}catch(r){n[e]=t}return t}},9781:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},4154:e=>{var t="object"==typeof document&&document.all,r=void 0===t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:r}},317:(e,t,r)=>{var n=r(7854),o=r(111),i=n.document,a=o(i)&&o(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},8324:e=>{e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},8509:(e,t,r)=>{var n=r(317)("span").classList,o=n&&n.constructor&&n.constructor.prototype;e.exports=o===Object.prototype?void 0:o},8113:(e,t,r)=>{var n=r(5005);e.exports=n("navigator","userAgent")||""},7392:(e,t,r)=>{var n,o,i=r(7854),a=r(8113),s=i.process,u=i.Deno,c=s&&s.versions||u&&u.version,l=c&&c.v8;l&&(o=(n=l.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!o&&a&&(!(n=a.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=a.match(/Chrome\/(\d+)/))&&(o=+n[1]),e.exports=o},748:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},1060:(e,t,r)=>{var n=r(1702),o=Error,i=n("".replace),a=String(o("zxcasd").stack),s=/\n\s*at [^:]*:[^\n]*/,u=s.test(a);e.exports=function(e,t){if(u&&"string"==typeof e&&!o.prepareStackTrace)for(;t--;)e=i(e,s,"");return e}},2914:(e,t,r)=>{var n=r(7293),o=r(9114);e.exports=!n((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",o(1,7)),7!==e.stack)}))},2109:(e,t,r)=>{var n=r(7854),o=r(1236).f,i=r(8880),a=r(8052),s=r(3072),u=r(9920),c=r(4705);e.exports=function(e,t){var r,l,f,p,h,d=e.target,v=e.global,g=e.stat;if(r=v?n:g?n[d]||s(d,{}):(n[d]||{}).prototype)for(l in t){if(p=t[l],f=e.dontCallGetSet?(h=o(r,l))&&h.value:r[l],!c(v?l:d+(g?".":"#")+l,e.forced)&&void 0!==f){if(typeof p==typeof f)continue;u(p,f)}(e.sham||f&&f.sham)&&i(p,"sham",!0),a(r,l,p,e)}}},7293:e=>{e.exports=function(e){try{return!!e()}catch(e){return!0}}},2104:(e,t,r)=>{var n=r(4374),o=Function.prototype,i=o.apply,a=o.call;e.exports="object"==typeof Reflect&&Reflect.apply||(n?a.bind(i):function(){return a.apply(i,arguments)})},4374:(e,t,r)=>{var n=r(7293);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},6916:(e,t,r)=>{var n=r(4374),o=Function.prototype.call;e.exports=n?o.bind(o):function(){return o.apply(o,arguments)}},6530:(e,t,r)=>{var n=r(9781),o=r(2597),i=Function.prototype,a=n&&Object.getOwnPropertyDescriptor,s=o(i,"name"),u=s&&"something"===function(){}.name,c=s&&(!n||n&&a(i,"name").configurable);e.exports={EXISTS:s,PROPER:u,CONFIGURABLE:c}},84:(e,t,r)=>{var n=r(4374),o=Function.prototype,i=o.call,a=n&&o.bind.bind(i,i);e.exports=n?a:function(e){return function(){return i.apply(e,arguments)}}},1702:(e,t,r)=>{var n=r(4326),o=r(84);e.exports=function(e){if("Function"===n(e))return o(e)}},5005:(e,t,r)=>{var n=r(7854),o=r(614),i=function(e){return o(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?i(n[e]):n[e]&&n[e][t]}},8173:(e,t,r)=>{var n=r(9662),o=r(8554);e.exports=function(e,t){var r=e[t];return o(r)?void 0:n(r)}},7854:(e,t,r)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r.g&&r.g)||function(){return this}()||Function("return this")()},2597:(e,t,r)=>{var n=r(1702),o=r(7908),i=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return i(o(e),t)}},3501:e=>{e.exports={}},490:(e,t,r)=>{var n=r(5005);e.exports=n("document","documentElement")},4664:(e,t,r)=>{var n=r(9781),o=r(7293),i=r(317);e.exports=!n&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},8361:(e,t,r)=>{var n=r(1702),o=r(7293),i=r(4326),a=Object,s=n("".split);e.exports=o((function(){return!a("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?s(e,""):a(e)}:a},9587:(e,t,r)=>{var n=r(614),o=r(111),i=r(7674);e.exports=function(e,t,r){var a,s;return i&&n(a=t.constructor)&&a!==r&&o(s=a.prototype)&&s!==r.prototype&&i(e,s),e}},2788:(e,t,r)=>{var n=r(1702),o=r(614),i=r(5465),a=n(Function.toString);o(i.inspectSource)||(i.inspectSource=function(e){return a(e)}),e.exports=i.inspectSource},8340:(e,t,r)=>{var n=r(111),o=r(8880);e.exports=function(e,t){n(t)&&"cause"in t&&o(e,"cause",t.cause)}},9909:(e,t,r)=>{var n,o,i,a=r(4811),s=r(7854),u=r(111),c=r(8880),l=r(2597),f=r(5465),p=r(6200),h=r(3501),d="Object already initialized",v=s.TypeError,g=s.WeakMap;if(a||f.state){var m=f.state||(f.state=new g);m.get=m.get,m.has=m.has,m.set=m.set,n=function(e,t){if(m.has(e))throw v(d);return t.facade=e,m.set(e,t),t},o=function(e){return m.get(e)||{}},i=function(e){return m.has(e)}}else{var y=p("state");h[y]=!0,n=function(e,t){if(l(e,y))throw v(d);return t.facade=e,c(e,y,t),t},o=function(e){return l(e,y)?e[y]:{}},i=function(e){return l(e,y)}}e.exports={set:n,get:o,has:i,enforce:function(e){return i(e)?o(e):n(e,{})},getterFor:function(e){return function(t){var r;if(!u(t)||(r=o(t)).type!==e)throw v("Incompatible receiver, "+e+" required");return r}}}},614:(e,t,r)=>{var n=r(4154),o=n.all;e.exports=n.IS_HTMLDDA?function(e){return"function"==typeof e||e===o}:function(e){return"function"==typeof e}},4705:(e,t,r)=>{var n=r(7293),o=r(614),i=/#|\.prototype\./,a=function(e,t){var r=u[s(e)];return r==l||r!=c&&(o(t)?n(t):!!t)},s=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},u=a.data={},c=a.NATIVE="N",l=a.POLYFILL="P";e.exports=a},8554:e=>{e.exports=function(e){return null==e}},111:(e,t,r)=>{var n=r(614),o=r(4154),i=o.all;e.exports=o.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:n(e)||e===i}:function(e){return"object"==typeof e?null!==e:n(e)}},1913:e=>{e.exports=!1},2190:(e,t,r)=>{var n=r(5005),o=r(614),i=r(7976),a=r(3307),s=Object;e.exports=a?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return o(t)&&i(t.prototype,s(e))}},3061:(e,t,r)=>{var n=r(3383).IteratorPrototype,o=r(30),i=r(9114),a=r(8003),s=r(7497),u=function(){return this};e.exports=function(e,t,r,c){var l=t+" Iterator";return e.prototype=o(n,{next:i(+!c,r)}),a(e,l,!1,!0),s[l]=u,e}},1656:(e,t,r)=>{var n=r(2109),o=r(6916),i=r(1913),a=r(6530),s=r(614),u=r(3061),c=r(9518),l=r(7674),f=r(8003),p=r(8880),h=r(8052),d=r(5112),v=r(7497),g=r(3383),m=a.PROPER,y=a.CONFIGURABLE,b=g.IteratorPrototype,w=g.BUGGY_SAFARI_ITERATORS,x=d("iterator"),S="keys",A="values",O="entries",E=function(){return this};e.exports=function(e,t,r,a,d,g,k){u(r,t,a);var T,P,_,j=function(e){if(e===d&&M)return M;if(!w&&e in C)return C[e];switch(e){case S:case A:case O:return function(){return new r(this,e)}}return function(){return new r(this)}},D=t+" Iterator",I=!1,C=e.prototype,R=C[x]||C["@@iterator"]||d&&C[d],M=!w&&R||j(d),N="Array"==t&&C.entries||R;if(N&&(T=c(N.call(new e)))!==Object.prototype&&T.next&&(i||c(T)===b||(l?l(T,b):s(T[x])||h(T,x,E)),f(T,D,!0,!0),i&&(v[D]=E)),m&&d==A&&R&&R.name!==A&&(!i&&y?p(C,"name",A):(I=!0,M=function(){return o(R,this)})),d)if(P={values:j(A),keys:g?M:j(S),entries:j(O)},k)for(_ in P)(w||I||!(_ in C))&&h(C,_,P[_]);else n({target:t,proto:!0,forced:w||I},P);return i&&!k||C[x]===M||h(C,x,M,{name:d}),v[t]=M,P}},3383:(e,t,r)=>{var n,o,i,a=r(7293),s=r(614),u=r(111),c=r(30),l=r(9518),f=r(8052),p=r(5112),h=r(1913),d=p("iterator"),v=!1;[].keys&&("next"in(i=[].keys())?(o=l(l(i)))!==Object.prototype&&(n=o):v=!0),!u(n)||a((function(){var e={};return n[d].call(e)!==e}))?n={}:h&&(n=c(n)),s(n[d])||f(n,d,(function(){return this})),e.exports={IteratorPrototype:n,BUGGY_SAFARI_ITERATORS:v}},7497:e=>{e.exports={}},6244:(e,t,r)=>{var n=r(7466);e.exports=function(e){return n(e.length)}},6339:(e,t,r)=>{var n=r(7293),o=r(614),i=r(2597),a=r(9781),s=r(6530).CONFIGURABLE,u=r(2788),c=r(9909),l=c.enforce,f=c.get,p=Object.defineProperty,h=a&&!n((function(){return 8!==p((function(){}),"length",{value:8}).length})),d=String(String).split("String"),v=e.exports=function(e,t,r){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),r&&r.getter&&(t="get "+t),r&&r.setter&&(t="set "+t),(!i(e,"name")||s&&e.name!==t)&&(a?p(e,"name",{value:t,configurable:!0}):e.name=t),h&&r&&i(r,"arity")&&e.length!==r.arity&&p(e,"length",{value:r.arity});try{r&&i(r,"constructor")&&r.constructor?a&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var n=l(e);return i(n,"source")||(n.source=d.join("string"==typeof t?t:"")),e};Function.prototype.toString=v((function(){return o(this)&&f(this).source||u(this)}),"toString")},4758:e=>{var t=Math.ceil,r=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?r:t)(n)}},6277:(e,t,r)=>{var n=r(1340);e.exports=function(e,t){return void 0===e?arguments.length<2?"":t:n(e)}},30:(e,t,r)=>{var n,o=r(9670),i=r(6048),a=r(748),s=r(3501),u=r(490),c=r(317),l=r(6200)("IE_PROTO"),f=function(){},p=function(e){return"<script>"+e+"<\/script>"},h=function(e){e.write(p("")),e.close();var t=e.parentWindow.Object;return e=null,t},d=function(){try{n=new ActiveXObject("htmlfile")}catch(e){}var e,t;d="undefined"!=typeof document?document.domain&&n?h(n):((t=c("iframe")).style.display="none",u.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(p("document.F=Object")),e.close(),e.F):h(n);for(var r=a.length;r--;)delete d.prototype[a[r]];return d()};s[l]=!0,e.exports=Object.create||function(e,t){var r;return null!==e?(f.prototype=o(e),r=new f,f.prototype=null,r[l]=e):r=d(),void 0===t?r:i.f(r,t)}},6048:(e,t,r)=>{var n=r(9781),o=r(3353),i=r(3070),a=r(9670),s=r(5656),u=r(1956);t.f=n&&!o?Object.defineProperties:function(e,t){a(e);for(var r,n=s(t),o=u(t),c=o.length,l=0;c>l;)i.f(e,r=o[l++],n[r]);return e}},3070:(e,t,r)=>{var n=r(9781),o=r(4664),i=r(3353),a=r(9670),s=r(4948),u=TypeError,c=Object.defineProperty,l=Object.getOwnPropertyDescriptor;t.f=n?i?function(e,t,r){if(a(e),t=s(t),a(r),"function"==typeof e&&"prototype"===t&&"value"in r&&"writable"in r&&!r.writable){var n=l(e,t);n&&n.writable&&(e[t]=r.value,r={configurable:"configurable"in r?r.configurable:n.configurable,enumerable:"enumerable"in r?r.enumerable:n.enumerable,writable:!1})}return c(e,t,r)}:c:function(e,t,r){if(a(e),t=s(t),a(r),o)try{return c(e,t,r)}catch(e){}if("get"in r||"set"in r)throw u("Accessors not supported");return"value"in r&&(e[t]=r.value),e}},1236:(e,t,r)=>{var n=r(9781),o=r(6916),i=r(5296),a=r(9114),s=r(5656),u=r(4948),c=r(2597),l=r(4664),f=Object.getOwnPropertyDescriptor;t.f=n?f:function(e,t){if(e=s(e),t=u(t),l)try{return f(e,t)}catch(e){}if(c(e,t))return a(!o(i.f,e,t),e[t])}},8006:(e,t,r)=>{var n=r(6324),o=r(748).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,o)}},5181:(e,t)=>{t.f=Object.getOwnPropertySymbols},9518:(e,t,r)=>{var n=r(2597),o=r(614),i=r(7908),a=r(6200),s=r(8544),u=a("IE_PROTO"),c=Object,l=c.prototype;e.exports=s?c.getPrototypeOf:function(e){var t=i(e);if(n(t,u))return t[u];var r=t.constructor;return o(r)&&t instanceof r?r.prototype:t instanceof c?l:null}},7976:(e,t,r)=>{var n=r(1702);e.exports=n({}.isPrototypeOf)},6324:(e,t,r)=>{var n=r(1702),o=r(2597),i=r(5656),a=r(1318).indexOf,s=r(3501),u=n([].push);e.exports=function(e,t){var r,n=i(e),c=0,l=[];for(r in n)!o(s,r)&&o(n,r)&&u(l,r);for(;t.length>c;)o(n,r=t[c++])&&(~a(l,r)||u(l,r));return l}},1956:(e,t,r)=>{var n=r(6324),o=r(748);e.exports=Object.keys||function(e){return n(e,o)}},5296:(e,t)=>{var r={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,o=n&&!r.call({1:2},1);t.f=o?function(e){var t=n(this,e);return!!t&&t.enumerable}:r},7674:(e,t,r)=>{var n=r(1702),o=r(9670),i=r(6077);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,r={};try{(e=n(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(r,[]),t=r instanceof Array}catch(e){}return function(r,n){return o(r),i(n),t?e(r,n):r.__proto__=n,r}}():void 0)},2140:(e,t,r)=>{var n=r(6916),o=r(614),i=r(111),a=TypeError;e.exports=function(e,t){var r,s;if("string"===t&&o(r=e.toString)&&!i(s=n(r,e)))return s;if(o(r=e.valueOf)&&!i(s=n(r,e)))return s;if("string"!==t&&o(r=e.toString)&&!i(s=n(r,e)))return s;throw a("Can't convert object to primitive value")}},3887:(e,t,r)=>{var n=r(5005),o=r(1702),i=r(8006),a=r(5181),s=r(9670),u=o([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=i.f(s(e)),r=a.f;return r?u(t,r(e)):t}},2626:(e,t,r)=>{var n=r(3070).f;e.exports=function(e,t,r){r in e||n(e,r,{configurable:!0,get:function(){return t[r]},set:function(e){t[r]=e}})}},4488:(e,t,r)=>{var n=r(8554),o=TypeError;e.exports=function(e){if(n(e))throw o("Can't call method on "+e);return e}},8003:(e,t,r)=>{var n=r(3070).f,o=r(2597),i=r(5112)("toStringTag");e.exports=function(e,t,r){e&&!r&&(e=e.prototype),e&&!o(e,i)&&n(e,i,{configurable:!0,value:t})}},6200:(e,t,r)=>{var n=r(2309),o=r(9711),i=n("keys");e.exports=function(e){return i[e]||(i[e]=o(e))}},5465:(e,t,r)=>{var n=r(7854),o=r(3072),i="__core-js_shared__",a=n[i]||o(i,{});e.exports=a},2309:(e,t,r)=>{var n=r(1913),o=r(5465);(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.26.0",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.26.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6293:(e,t,r)=>{var n=r(7392),o=r(7293);e.exports=!!Object.getOwnPropertySymbols&&!o((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:(e,t,r)=>{var n=r(9303),o=Math.max,i=Math.min;e.exports=function(e,t){var r=n(e);return r<0?o(r+t,0):i(r,t)}},5656:(e,t,r)=>{var n=r(8361),o=r(4488);e.exports=function(e){return n(o(e))}},9303:(e,t,r)=>{var n=r(4758);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},7466:(e,t,r)=>{var n=r(9303),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},7908:(e,t,r)=>{var n=r(4488),o=Object;e.exports=function(e){return o(n(e))}},7593:(e,t,r)=>{var n=r(6916),o=r(111),i=r(2190),a=r(8173),s=r(2140),u=r(5112),c=TypeError,l=u("toPrimitive");e.exports=function(e,t){if(!o(e)||i(e))return e;var r,u=a(e,l);if(u){if(void 0===t&&(t="default"),r=n(u,e,t),!o(r)||i(r))return r;throw c("Can't convert object to primitive value")}return void 0===t&&(t="number"),s(e,t)}},4948:(e,t,r)=>{var n=r(7593),o=r(2190);e.exports=function(e){var t=n(e,"string");return o(t)?t:t+""}},1694:(e,t,r)=>{var n={};n[r(5112)("toStringTag")]="z",e.exports="[object z]"===String(n)},1340:(e,t,r)=>{var n=r(648),o=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return o(e)}},6330:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(e){return"Object"}}},9711:(e,t,r)=>{var n=r(1702),o=0,i=Math.random(),a=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+a(++o+i,36)}},3307:(e,t,r)=>{var n=r(6293);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},3353:(e,t,r)=>{var n=r(9781),o=r(7293);e.exports=n&&o((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},4811:(e,t,r)=>{var n=r(7854),o=r(614),i=n.WeakMap;e.exports=o(i)&&/native code/.test(String(i))},5112:(e,t,r)=>{var n=r(7854),o=r(2309),i=r(2597),a=r(9711),s=r(6293),u=r(3307),c=o("wks"),l=n.Symbol,f=l&&l.for,p=u?l:l&&l.withoutSetter||a;e.exports=function(e){if(!i(c,e)||!s&&"string"!=typeof c[e]){var t="Symbol."+e;s&&i(l,e)?c[e]=l[e]:c[e]=u&&f?f(t):p(t)}return c[e]}},9191:(e,t,r)=>{var n=r(5005),o=r(2597),i=r(8880),a=r(7976),s=r(7674),u=r(9920),c=r(2626),l=r(9587),f=r(6277),p=r(8340),h=r(1060),d=r(2914),v=r(9781),g=r(1913);e.exports=function(e,t,r,m){var y="stackTraceLimit",b=m?2:1,w=e.split("."),x=w[w.length-1],S=n.apply(null,w);if(S){var A=S.prototype;if(!g&&o(A,"cause")&&delete A.cause,!r)return S;var O=n("Error"),E=t((function(e,t){var r=f(m?t:e,void 0),n=m?new S(e):new S;return void 0!==r&&i(n,"message",r),d&&i(n,"stack",h(n.stack,2)),this&&a(A,this)&&l(n,this,E),arguments.length>b&&p(n,arguments[b]),n}));if(E.prototype=A,"Error"!==x?s?s(E,O):u(E,O,{name:!0}):v&&y in S&&(c(E,S,y),c(E,S,"prepareStackTrace")),u(E,S),!g)try{A.name!==x&&i(A,"name",x),A.constructor=E}catch(e){}return E}}},6992:(e,t,r)=>{var n=r(5656),o=r(1223),i=r(7497),a=r(9909),s=r(3070).f,u=r(1656),c=r(6178),l=r(1913),f=r(9781),p="Array Iterator",h=a.set,d=a.getterFor(p);e.exports=u(Array,"Array",(function(e,t){h(this,{type:p,target:n(e),index:0,kind:t})}),(function(){var e=d(this),t=e.target,r=e.kind,n=e.index++;return!t||n>=t.length?(e.target=void 0,c(void 0,!0)):c("keys"==r?n:"values"==r?t[n]:[n,t[n]],!1)}),"values");var v=i.Arguments=i.Array;if(o("keys"),o("values"),o("entries"),!l&&f&&"values"!==v.name)try{s(v,"name",{value:"values"})}catch(e){}},1703:(e,t,r)=>{var n=r(2109),o=r(7854),i=r(2104),a=r(9191),s=o.WebAssembly,u=7!==Error("e",{cause:7}).cause,c=function(e,t){var r={};r[e]=a(e,t,u),n({global:!0,constructor:!0,arity:1,forced:u},r)},l=function(e,t){if(s&&s[e]){var r={};r[e]=a("WebAssembly."+e,t,u),n({target:"WebAssembly",stat:!0,constructor:!0,arity:1,forced:u},r)}};c("Error",(function(e){return function(t){return i(e,this,arguments)}})),c("EvalError",(function(e){return function(t){return i(e,this,arguments)}})),c("RangeError",(function(e){return function(t){return i(e,this,arguments)}})),c("ReferenceError",(function(e){return function(t){return i(e,this,arguments)}})),c("SyntaxError",(function(e){return function(t){return i(e,this,arguments)}})),c("TypeError",(function(e){return function(t){return i(e,this,arguments)}})),c("URIError",(function(e){return function(t){return i(e,this,arguments)}})),l("CompileError",(function(e){return function(t){return i(e,this,arguments)}})),l("LinkError",(function(e){return function(t){return i(e,this,arguments)}})),l("RuntimeError",(function(e){return function(t){return i(e,this,arguments)}}))},3948:(e,t,r)=>{var n=r(7854),o=r(8324),i=r(8509),a=r(6992),s=r(8880),u=r(5112),c=u("iterator"),l=u("toStringTag"),f=a.values,p=function(e,t){if(e){if(e[c]!==f)try{s(e,c,f)}catch(t){e[c]=f}if(e[l]||s(e,l,t),o[t])for(var r in a)if(e[r]!==a[r])try{s(e,r,a[r])}catch(t){e[r]=a[r]}}};for(var h in o)p(n[h]&&n[h].prototype,h);p(i,"DOMTokenList")},6226:(e,t,r)=>{e.exports=r(7460)},7445:(e,t,r)=>{e.exports=r(3685)}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var i=t[n]={exports:{}};return e[n](i,i.exports,r),i.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};return(()=>{r.r(n),r.d(n,{AudioExtension:()=>x,AudioProcessor:()=>b,Extension:()=>w,PromiseMutex:()=>E,Ticker:()=>A,VideoProcessor:()=>y,logger:()=>f,reporter:()=>d});var e=r(7445);function t(t,r,n){return r in t?e(t,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[r]=n,t}r(1703),r(6992),r(3948);var o=r(6226),i=r.n(o);function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:7,t=arguments.length>1?arguments[1]:void 0;const r=Math.random().toString(16).substr(2,e).toLowerCase();return r.length===e?"".concat(t).concat(r):"".concat(t).concat(r)+a(e-r.length,"")}const s=Date.now(),u={DEBUG:0,INFO:1,WARNING:2,ERROR:3,NONE:4};function c(){const e=new Date;return e.toTimeString().split(" ")[0]+":"+e.getMilliseconds()}const l=e=>{for(const t in u)if(Object.prototype.hasOwnProperty.call(u,t)&&u[t]===e)return t;return"DEFAULT"},f=new class{constructor(){t(this,"logLevel",u.DEBUG),t(this,"hookLog",void 0)}debug(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=[u.DEBUG].concat(t);this.log.apply(this,n)}info(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=[u.INFO].concat(t);this.log.apply(this,n)}warning(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=[u.WARNING].concat(t);this.log.apply(this,n)}error(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const n=[u.ERROR].concat(t);this.log.apply(this,n)}log(){for(var e,t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(Date.now()-s<100)return void setTimeout((()=>{this.log(...r)}),Date.now()-s);const o=Math.max(0,Math.min(4,r[0]));if(r[0]=c()+" Agora-Extension [".concat(l(o),"]:"),o<this.logLevel)return;const i=c()+" %cAgora-Extension [".concat(l(o),"]:");let a=[];switch(o){case u.DEBUG:a=[i,"color: #64B5F6;"].concat(r.slice(1)),console.log.apply(console,a);break;case u.INFO:a=[i,"color: #1E88E5; font-weight: bold;"].concat(r.slice(1)),console.log.apply(console,a);break;case u.WARNING:a=[i,"color: #FB8C00; font-weight: bold;"].concat(r.slice(1)),console.warn.apply(console,a);break;case u.ERROR:a=[i,"color: #B00020; font-weight: bold;"].concat(r.slice(1)),console.error.apply(console,a)}null===(e=this.hookLog)||void 0===e||e.call(this,o,a)}};function p(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?p(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}const d=new class{constructor(){t(this,"apiInvokeMsgQueue",[]),t(this,"hookApiInvoke",void 0)}reportApiInvoke(e){e.timeout=e.timeout||6e4,e.reportResult=void 0===e.reportResult||e.reportResult;const t=Date.now(),r=()=>({name:e.name,apiInvokeTime:t,options:e.options});let n=!1;var o;(o=e.timeout,new(i())((e=>{window.setTimeout(e,o)}))).then((()=>{n||(this.sendApiInvoke(h(h({},r()),{},{error:"API_INVOKE_TIMEOUT",success:!1})),f.debug("".concat(e.name," timeout")))}));const a=new Error("".concat(e.name,": this api invoke is end"));return{onSuccess:t=>{if(n)throw a;n=!0,this.sendApiInvoke(h(h({},r()),{},{success:!0},e.reportResult&&{result:t}))},onError:e=>{if(n)throw e;n=!0,this.sendApiInvoke(h(h({},r()),{},{success:!1,error:e.toString()}))}}}sendApiInvoke(e){this.hookApiInvoke?(this.hookApiInvoke([...this.apiInvokeMsgQueue,e]),this.apiInvokeMsgQueue=[]):this.apiInvokeMsgQueue.push(e)}};function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function g(e){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?v(Object(n),!0).forEach((function(r){t(e,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}class m extends class{constructor(){t(this,"_events",{}),t(this,"addListener",this.on)}getListeners(e){return this._events[e]?this._events[e].map((e=>e.listener)):[]}on(e,t){this._events[e]||(this._events[e]=[]);const r=this._events[e];-1===this._indexOfListener(r,t)&&r.push({listener:t,once:!1})}once(e,t){this._events[e]||(this._events[e]=[]);const r=this._events[e];-1===this._indexOfListener(r,t)&&r.push({listener:t,once:!0})}off(e,t){if(!this._events[e])return;const r=this._events[e],n=this._indexOfListener(r,t);-1!==n&&r.splice(n,1),0===this._events[e].length&&delete this._events[e]}removeAllListeners(e){e?delete this._events[e]:this._events={}}emit(e){this._events[e]||(this._events[e]=[]);const t=this._events[e].map((e=>e));for(var r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];for(let r=0;r<t.length;r+=1){const o=t[r];o.once&&this.off(e,o.listener),o.listener.apply(this,n||[])}}_indexOfListener(e,t){let r=e.length;for(;r--;)if(e[r].listener===t)return r;return-1}emitAsPromise(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 0===this.getListeners(e).length?i().reject(new Error("No promise event handler.")):new(i())(((t,n)=>{this.emit(e,...r,t,n)}))}emitAsPromiseNoResponse(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return 0===this.getListeners(e).length?i().resolve():new(i())(((t,n)=>{this.emit(e,...r,t,n)}))}}{get enabled(){return this._enabled}output(e,t){if(this.outputTrack===e)return;const r=d.reportApiInvoke({name:"".concat(this.name,".output"),options:{track:null==e?void 0:e.toString()}});this.outputTrack=e,this.destination&&this.destination.updateInput({track:e,context:t}),r.onSuccess()}constructor(){super(),t(this,"inputTrack",void 0),t(this,"outputTrack",void 0),t(this,"_enabled",!0),t(this,"_source",void 0),t(this,"ID",a(6,"")),t(this,"destination",void 0),t(this,"context",void 0),t(this,"name",void 0)}enable(){if(this._enabled)return;const e=d.reportApiInvoke({name:"".concat(this.name,".enable"),options:!0});f.info("".concat(this.name,"-").concat(this.ID," enabled")),this._enabled=!0;try{var t;const r=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(r instanceof i())return r.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}disable(){if(!this._enabled)return;const e=d.reportApiInvoke({name:"".concat(this.name,".enable"),options:!1});f.info("".concat(this.name,"-").concat(this.ID," disabled")),this._enabled=!1;try{var t;const r=null===(t=this.onEnableChange)||void 0===t?void 0:t.call(this,this._enabled);if(r instanceof i())return r.then((()=>{e.onSuccess()})).catch((t=>{throw e.onError(t),t}));e.onSuccess()}catch(t){throw e.onError(t),t}}}class y extends m{get kind(){return"video"}pipe(e){const t=d.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const r=new Error("Processor ".concat(e.name," already being piped, please call ").concat(e._source.name,".unpipe() beforehand."));throw t.onError(r),r}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;const e=d.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});f.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));try{const t=this.destination;this.destination._source=void 0,this.destination=void 0,t.reset()}finally{e.onSuccess()}}updateInput(e){var t,r;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(r=this.onTrack)||void 0===r||r.call(this,e.track,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.context=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this),this.destination&&this.destination.reset()}}class b extends m{constructor(){super(...arguments),t(this,"inputNode",void 0),t(this,"outputNode",void 0),t(this,"destination",void 0),t(this,"context",void 0)}get kind(){return"audio"}pipe(e){const t=d.reportApiInvoke({name:"".concat(this.name,".pipe"),options:{processor:e.name}});if(this.destination===e)return t.onSuccess(),e;if(e._source){const r=new Error("Processor ".concat(e.name," already being piped, please call ").concat(e._source.name,".unpipe() beforehand."));throw t.onError(r),r}return this.destination&&this.unpipe(),this.destination=e,e._source=this,this.context&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:this.context}),t.onSuccess(),e}unpipe(){if(!this.destination)return;f.info("unpiping processor ".concat(this.destination.name,"-").concat(this.destination.ID));const e=d.reportApiInvoke({name:"".concat(this.name,".unpipe"),options:{processor:this.destination.name}});try{var t;let r=this.destination;null===(t=this.outputNode)||void 0===t||t.disconnect(),this.destination._source=void 0,this.destination=void 0,r.reset()}finally{e.onSuccess()}}output(e,t){if(e instanceof MediaStreamTrack)super.output(e,t);else if(e instanceof AudioNode){if(this.outputNode===e)return;const r=d.reportApiInvoke({name:"".concat(this.name,".output"),options:g(g({},e instanceof MediaStreamTrack&&{track:e.toString()}),e instanceof AudioNode&&{audioNode:e.toString()})});this.outputNode=e,this.destination&&this.destination.updateInput({node:e,context:t}),r.onSuccess()}}updateInput(e){var t,r,n;e.context!==this.context&&(this.context=e.context,null===(t=this.onPiped)||void 0===t||t.call(this,this.context),this.destination&&this.destination.updateInput({track:this.outputTrack,node:this.outputNode,context:e.context})),e.track&&this.inputTrack!==e.track&&(this.inputTrack=e.track,null===(r=this.onTrack)||void 0===r||r.call(this,e.track,this.context)),e.node&&this.inputNode!==e.node&&(this.inputNode=e.node,null===(n=this.onNode)||void 0===n||n.call(this,e.node,this.context))}reset(){var e;this.context&&this.context.requestRevertConstraints(this),this.inputTrack=void 0,this.inputNode=void 0,null===(e=this.onUnpiped)||void 0===e||e.call(this,this.context),this.context=void 0,this.destination&&this.destination.reset()}}class w{constructor(){t(this,"__registered__",!1),t(this,"logger",f),t(this,"reporter",d),t(this,"parameters",{})}createProcessor(){if(!this.__registered__)throw new Error("Extension not registered yet!");return this._createProcessor()}}class x extends w{}let S;class A{get running(){return this._running}constructor(e,r){if(t(this,"type",void 0),t(this,"interval",void 0),t(this,"fn",void 0),t(this,"_running",!1),t(this,"_osc",void 0),!e)throw new Error;if(r<=0)throw new Error;this.type=e,this.interval=r}add(e){this.fn=e}remove(){this.fn=void 0}start(){if(!this._running)switch(this._running=!0,this.type){case"Timer":{const e=()=>{setTimeout((()=>{this.fn&&this.fn(),this._running&&e()}),this.interval)};e();break}case"RAF":{const e=t=>{requestAnimationFrame((r=>{r-t<this.interval?this._running&&e(t):(this.fn&&this.fn(),this._running&&e(r))}))};e(performance.now());break}case"Oscillator":{S||(S=new AudioContext);const e=S.createGain();let t;e.gain.value=0,e.connect(S.destination);const r=()=>{this.fn&&this.fn(),t&&t.disconnect(),t=S.createOscillator(),this._osc=t,t.connect(e),this._running&&(t.onended=r,t.start(0),t.stop(S.currentTime+this.interval/1e3))};r();break}}}stop(){this._running=!1,this._osc&&(this._osc.onended=null,this._osc=void 0)}}let O=1;class E{constructor(e){t(this,"lockingPromise",i().resolve()),t(this,"locks",0),t(this,"name",""),t(this,"lockId",void 0),this.lockId=O++,e&&(this.name=e)}get isLocked(){return this.locks>0}lock(e){let t;this.locks+=1;const r=new(i())((e=>{t=()=>{this.locks-=1,e()}})),n=this.lockingPromise.then((()=>t));return this.lockingPromise=this.lockingPromise.then((()=>r)),n}}})(),n})(),e.exports=r()}(n);const i={ADJUST_3A_FROM_PLUGINS:!0,AI_DENOISER_PARAMETERS:{}},a={echoCancellation:!0,noiseSuppression:!1,autoGainControl:!0},s={numberOfInputs:1,numberOfOutputs:1,outputChannelCount:[1]},u={ains:!0,agc:!0,bufferTime:30,dumpBundleNums:3,threshold:2},c={nsRoute:0},l={nsRoute:2},f={lowerBound:.08,lowerMask:.05,statisticalBound:.05,finalLowerMask:.03},p={lowerBound:.01,lowerMask:.01,statisticalBound:0,finalLowerMask:.008},h=["remote"],d={};function v(){return!!globalThis.AudioWorklet&&!!globalThis.AudioWorkletNode}class g extends EventTarget{constructor(e,t){super(),this.workletNode=new AudioWorkletNode(e,"ai-denoiser-worklet-processor",Object.assign(Object.assign({},s),t)),this.workletNode.port.addEventListener("message",this.handleMessageEvent.bind(this)),this.workletNode.port.start()}static create(e,t,r,n,i,a,s,u){return o(this,void 0,void 0,(function*(){if(!v())throw new Error("does not support AudioWorklet");if("closed"===e.state)throw new Error("context has been closed");if(!g.registeredContexts.has(e)){const t=new Blob(['/**\n * AgoraExtensionAIDenoiser-1.1.0-9019a23(11/10/2022, 5:31:24 PM) Copyright AgoraInc.\n */\n\n!function(){"use strict";var e={exports:{}};!function(e,t){var n,r=(n="undefined"!=typeof document&&document.currentScript?document.currentScript.src:void 0,function(e){var t,r,a;e=e||{},"function"==typeof AudioWorkletGlobalScope&&(t=globalThis.Module),t||(t=void 0!==e?e:{}),t.ready=new Promise((function(e,t){r=e,a=t}));var i,o=Object.assign({},t),u="./this.program",s="object"==typeof window,c="function"==typeof importScripts,l="function"==typeof AudioWorkletGlobalScope,f="";s||c?(c?f=self.location.href:"undefined"!=typeof document&&document.currentScript&&(f=document.currentScript.src),n&&(f=n),f=0!==f.indexOf("blob:")?f.substr(0,f.replace(/[?#].*/,"").lastIndexOf("/")+1):"",c&&(i=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)})):l&&Object.assign(globalThis,{performance:{start:Date.now(),now:function(){return Date.now()-performance.start}}});var h,d=t.print||console.log.bind(console),p=t.printErr||console.warn.bind(console);Object.assign(t,o),o=null,t.thisProgram&&(u=t.thisProgram),t.wasmBinary&&(h=t.wasmBinary),t.noExitRuntime,"object"!=typeof WebAssembly&&$("no native wasm support detected");var m,v=!1,g="undefined"!=typeof TextDecoder?new TextDecoder("utf8"):void 0;function y(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&g)return g.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var i=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|i);else{var o=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|i<<6|o:(7&a)<<18|i<<12|o<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function b(e,t,n,r){if(0<r){r=n+r-1;for(var a=0;a<e.length;++a){var i=e.charCodeAt(a);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}t[n]=0}}function w(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}var A,T,C,k,_,D,P,E,O,S="undefined"!=typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function W(e,t){for(var n=e>>1,r=n+t/2;!(n>=r)&&_[n];)++n;if(32<(n<<=1)-e&&S)return S.decode(C.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var a=k[e+2*r>>1];if(0==a)break;n+=String.fromCharCode(a)}return n}function F(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var a=0;a<n;++a)k[t>>1]=e.charCodeAt(a),t+=2;return k[t>>1]=0,t-r}function M(e){return 2*e.length}function j(e,t){for(var n=0,r="";!(n>=t/4);){var a=D[e+4*n>>2];if(0==a)break;++n,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r}function R(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var a=0;a<e.length;++a){var i=e.charCodeAt(a);if(55296<=i&&57343>=i&&(i=65536+((1023&i)<<10)|1023&e.charCodeAt(++a)),D[t>>2]=i,(t+=4)+4>n)break}return D[t>>2]=0,t-r}function N(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t}function I(){var e=m.buffer;A=e,t.HEAP8=T=new Int8Array(e),t.HEAP16=k=new Int16Array(e),t.HEAP32=D=new Int32Array(e),t.HEAPU8=C=new Uint8Array(e),t.HEAPU16=_=new Uint16Array(e),t.HEAPU32=P=new Uint32Array(e),t.HEAPF32=E=new Float32Array(e),t.HEAPF64=O=new Float64Array(e)}var U,B=[],Y=[],x=[];function H(){var e=t.preRun.shift();B.unshift(e)}var V,L=0,z=null;function $(e){throw t.onAbort&&t.onAbort(e),p(e="Aborted("+e+")"),v=!0,e=new WebAssembly.RuntimeError(e+". Build with -s ASSERTIONS=1 for more info."),a(e),e}function G(){return V.startsWith("data:application/octet-stream;base64,")}if(t.preloadedImages={},t.preloadedAudios={},V="audio_denoiser.wasm",!G()){var q=V;V=t.locateFile?t.locateFile(q,f):f+q}function J(){var e=V;try{if(e==V&&h)return new Uint8Array(h);if(i)return i(e);throw"both async and sync fetching of the wasm failed"}catch(e){$(e)}}function X(e){for(;0<e.length;){var n=e.shift();if("function"==typeof n)n(t);else{var r=n.ib;"number"==typeof r?void 0===n.Ba?Z(r)():Z(r)(n.Ba):r(void 0===n.Ba?null:n.Ba)}}}var K=[];function Z(e){var t=K[e];return t||(e>=K.length&&(K.length=e+1),K[e]=t=U.get(e)),t}function Q(e){this.ea=e-16,this.Xa=function(e){D[this.ea+4>>2]=e},this.Ra=function(e){D[this.ea+8>>2]=e},this.Sa=function(){D[this.ea>>2]=0},this.Pa=function(){T[this.ea+12>>0]=0},this.Ua=function(){T[this.ea+13>>0]=0},this.Na=function(e,t){this.Xa(e),this.Ra(t),this.Sa(),this.Pa(),this.Ua()}}var ee={};function te(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ne(e){return this.fromWireType(P[e>>2])}var re={},ae={},ie={};function oe(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function ue(e,t){return e=oe(e),function(){return t.apply(this,arguments)}}function se(e){var t=Error,n=ue(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\\n"+t.replace(/^Error(:[^\\n]*)?\\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var ce=void 0;function le(e){throw new ce(e)}function fe(e,t,n){function r(t){(t=n(t)).length!==e.length&&le("Mismatched type converter count");for(var r=0;r<e.length;++r)ye(e[r],t[r])}e.forEach((function(e){ie[e]=t}));var a=Array(t.length),i=[],o=0;t.forEach((function(e,t){ae.hasOwnProperty(e)?a[t]=ae[e]:(i.push(e),re.hasOwnProperty(e)||(re[e]=[]),re[e].push((function(){a[t]=ae[e],++o===i.length&&r(a)})))})),0===i.length&&r(a)}var he={};function de(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var pe=void 0;function me(e){for(var t="";C[e];)t+=pe[C[e++]];return t}var ve=void 0;function ge(e){throw new ve(e)}function ye(e,t,n={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||ge(\'type "\'+r+\'" must have a positive integer typeid pointer\'),ae.hasOwnProperty(e)){if(n.Ya)return;ge("Cannot register type \'"+r+"\' twice")}ae[e]=t,delete ie[e],re.hasOwnProperty(e)&&(t=re[e],delete re[e],t.forEach((function(e){e()})))}function be(e){ge(e.ca.fa.da.name+" instance already deleted")}var we=!1;function Ae(){}function Te(e){--e.count.value,0===e.count.value&&(e.ga?e.ka.ja(e.ga):e.fa.da.ja(e.ea))}function Ce(e,t,n){return t===n?e:void 0===n.la||null===(e=Ce(e,t,n.la))?null:n.Qa(e)}var ke={},_e=[];function De(){for(;_e.length;){var e=_e.pop();e.ca.pa=!1,e.delete()}}var Pe=void 0,Ee={};function Oe(e,t){return t.fa&&t.ea||le("makeClassHandle requires ptr and ptrType"),!!t.ka!=!!t.ga&&le("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Se(Object.create(e,{ca:{value:t}}))}function Se(e){return"undefined"==typeof FinalizationRegistry?(Se=e=>e,e):(we=new FinalizationRegistry((e=>{Te(e.ca)})),Ae=e=>{we.unregister(e)},(Se=e=>{var t=e.ca;return t.ga&&we.register(e,{ca:t},e),e})(e))}function We(){}function Fe(e,t,n){if(void 0===e[t].ma){var r=e[t];e[t]=function(){return e[t].ma.hasOwnProperty(arguments.length)||ge("Function \'"+n+"\' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].ma+")!"),e[t].ma[arguments.length].apply(this,arguments)},e[t].ma=[],e[t].ma[r.va]=r}}function Me(e,n){t.hasOwnProperty(e)?(ge("Cannot register public name \'"+e+"\' twice"),Fe(t,e,e),t.hasOwnProperty(void 0)&&ge("Cannot register multiple overloads of a function with the same number of arguments (undefined)!"),t[e].ma[void 0]=n):t[e]=n}function je(e,t,n,r,a,i,o,u){this.name=e,this.constructor=t,this.na=n,this.ja=r,this.la=a,this.Va=i,this.ua=o,this.Qa=u,this.$a=[]}function Re(e,t,n){for(;t!==n;)t.ua||ge("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.ua(e),t=t.la;return e}function Ne(e,t){return null===t?(this.Fa&&ge("null is not a valid "+this.name),0):(t.ca||ge(\'Cannot pass "\'+et(t)+\'" as a \'+this.name),t.ca.ea||ge("Cannot pass deleted object as a pointer of type "+this.name),Re(t.ca.ea,t.ca.fa.da,this.da))}function Ie(e,t){if(null===t){if(this.Fa&&ge("null is not a valid "+this.name),this.xa){var n=this.sa();return null!==e&&e.push(this.ja,n),n}return 0}if(t.ca||ge(\'Cannot pass "\'+et(t)+\'" as a \'+this.name),t.ca.ea||ge("Cannot pass deleted object as a pointer of type "+this.name),!this.wa&&t.ca.fa.wa&&ge("Cannot convert argument of type "+(t.ca.ka?t.ca.ka.name:t.ca.fa.name)+" to parameter type "+this.name),n=Re(t.ca.ea,t.ca.fa.da,this.da),this.xa)switch(void 0===t.ca.ga&&ge("Passing raw pointer to smart pointer is illegal"),this.bb){case 0:t.ca.ka===this?n=t.ca.ga:ge("Cannot convert argument of type "+(t.ca.ka?t.ca.ka.name:t.ca.fa.name)+" to parameter type "+this.name);break;case 1:n=t.ca.ga;break;case 2:if(t.ca.ka===this)n=t.ca.ga;else{var r=t.clone();n=this.ab(n,Ke((function(){r.delete()}))),null!==e&&e.push(this.ja,n)}break;default:ge("Unsupporting sharing policy")}return n}function Ue(e,t){return null===t?(this.Fa&&ge("null is not a valid "+this.name),0):(t.ca||ge(\'Cannot pass "\'+et(t)+\'" as a \'+this.name),t.ca.ea||ge("Cannot pass deleted object as a pointer of type "+this.name),t.ca.fa.wa&&ge("Cannot convert argument of type "+t.ca.fa.name+" to parameter type "+this.name),Re(t.ca.ea,t.ca.fa.da,this.da))}function Be(e,t,n,r){this.name=e,this.da=t,this.Fa=n,this.wa=r,this.xa=!1,this.ja=this.ab=this.sa=this.Ma=this.bb=this.Za=void 0,void 0!==t.la?this.toWireType=Ie:(this.toWireType=r?Ne:Ue,this.ia=null)}function Ye(e,n){var r=(e=me(e)).includes("j")?function(e,n){var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var a=t["dynCall_"+e];a=r&&r.length?a.apply(null,[n].concat(r)):a.call(null,n)}else a=Z(n).apply(null,r);return a}}(e,n):Z(n);return"function"!=typeof r&&ge("unknown function pointer with signature "+e+": "+n),r}var xe=void 0;function He(e){var t=me(e=At(e));return wt(e),t}function Ve(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||ae[t]||(ie[t]?ie[t].forEach(e):(n.push(t),r[t]=!0))})),new xe(e+": "+n.map(He).join([", "]))}function Le(e,t){for(var n=[],r=0;r<e;r++)n.push(D[(t>>2)+r]);return n}function ze(e,t,n,r,a){var i=t.length;2>i&&ge("argTypes array size mismatch! Must at least get return value and \'this\' types!");var o=null!==t[1]&&null!==n,u=!1;for(n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].ia){u=!0;break}var s="void"!==t[0].name,c=i-2,l=Array(c),f=[],h=[];return function(){if(arguments.length!==c&&ge("function "+e+" called with "+arguments.length+" arguments, expected "+c+" args!"),h.length=0,f.length=o?2:1,f[0]=a,o){var n=t[1].toWireType(h,this);f[1]=n}for(var i=0;i<c;++i)l[i]=t[i+2].toWireType(h,arguments[i]),f.push(l[i]);if(i=r.apply(null,f),u)te(h);else for(var d=o?1:2;d<t.length;d++){var p=1===d?n:l[d-2];null!==t[d].ia&&t[d].ia(p)}return n=s?t[0].fromWireType(i):void 0}}function $e(e,t,n){return e instanceof Object||ge(n+\' with invalid "this": \'+e),e instanceof t.da.constructor||ge(n+\' incompatible with "this" of type \'+e.constructor.name),e.ca.ea||ge("cannot call emscripten binding method "+n+" on deleted object"),Re(e.ca.ea,e.ca.fa.da,t.da)}var Ge=[],qe=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function Je(e){4<e&&0==--qe[e].Ga&&(qe[e]=void 0,Ge.push(e))}function Xe(e){return e||ge("Cannot use deleted val. handle = "+e),qe[e].value}function Ke(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=Ge.length?Ge.pop():qe.length;return qe[t]={Ga:1,value:e},t}}function Ze(e,t,n){switch(t){case 0:return function(e){return this.fromWireType((n?T:C)[e])};case 1:return function(e){return this.fromWireType((n?k:_)[e>>1])};case 2:return function(e){return this.fromWireType((n?D:P)[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Qe(e,t){var n=ae[e];return void 0===n&&ge(t+" has unknown type "+He(e)),n}function et(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function tt(e,t){switch(t){case 2:return function(e){return this.fromWireType(E[e>>2])};case 3:return function(e){return this.fromWireType(O[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function nt(e,t,n){switch(t){case 0:return n?function(e){return T[e]}:function(e){return C[e]};case 1:return n?function(e){return k[e>>1]}:function(e){return _[e>>1]};case 2:return n?function(e){return D[e>>2]}:function(e){return P[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var rt,at={};rt=()=>performance.now();var it={};function ot(){if(!ut){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:u||"./this.program"};for(e in it)void 0===it[e]?delete t[e]:t[e]=it[e];var n=[];for(e in t)n.push(e+"="+t[e]);ut=n}return ut}var ut,st=[null,[],[]],ct={};function lt(e){return 0==e%4&&(0!=e%100||0==e%400)}function ft(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var ht=[31,29,31,30,31,30,31,31,30,31,30,31],dt=[31,28,31,30,31,30,31,31,30,31,30,31];function pt(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(lt(e.getFullYear())?ht:dt)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function mt(e,t,n,r){function a(e,t,n){for(e="number"==typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function i(e,t){return a(e,t,"0")}function o(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function u(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){e=pt(new Date(e.ha+1900,0,1),e.Aa);var t=new Date(e.getFullYear()+1,0,4),n=u(new Date(e.getFullYear(),0,4));return t=u(t),0>=o(n,e)?0>=o(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var c=D[r+40>>2];for(var l in r={fb:D[r>>2],eb:D[r+4>>2],ya:D[r+8>>2],ta:D[r+12>>2],qa:D[r+16>>2],ha:D[r+20>>2],za:D[r+24>>2],Aa:D[r+28>>2],lb:D[r+32>>2],cb:D[r+36>>2],gb:c&&c?y(C,c,void 0):""},n=n?y(C,n,void 0):"",c={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),c[l]);var f="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),h="January February March April May June July August September October November December".split(" ");for(l in c={"%a":function(e){return f[e.za].substring(0,3)},"%A":function(e){return f[e.za]},"%b":function(e){return h[e.qa].substring(0,3)},"%B":function(e){return h[e.qa]},"%C":function(e){return i((e.ha+1900)/100|0,2)},"%d":function(e){return i(e.ta,2)},"%e":function(e){return a(e.ta,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return i(e.ya,2)},"%I":function(e){return 0==(e=e.ya)?e=12:12<e&&(e-=12),i(e,2)},"%j":function(e){return i(e.ta+ft(lt(e.ha+1900)?ht:dt,e.qa-1),3)},"%m":function(e){return i(e.qa+1,2)},"%M":function(e){return i(e.eb,2)},"%n":function(){return"\\n"},"%p":function(e){return 0<=e.ya&&12>e.ya?"AM":"PM"},"%S":function(e){return i(e.fb,2)},"%t":function(){return"\\t"},"%u":function(e){return e.za||7},"%U":function(e){var t=new Date(e.ha+1900,0,1),n=0===t.getDay()?t:pt(t,7-t.getDay());return 0>o(n,e=new Date(e.ha+1900,e.qa,e.ta))?i(Math.ceil((31-n.getDate()+(ft(lt(e.getFullYear())?ht:dt,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.ha+1901,0,4),n=u(new Date(e.ha+1900,0,4));t=u(t);var r=pt(new Date(e.ha+1900,0,1),e.Aa);return 0>o(r,n)?"53":0>=o(t,r)?"01":i(Math.ceil((n.getFullYear()<e.ha+1900?e.Aa+32-n.getDate():e.Aa+1-n.getDate())/7),2)},"%w":function(e){return e.za},"%W":function(e){var t=new Date(e.ha,0,1),n=1===t.getDay()?t:pt(t,0===t.getDay()?1:7-t.getDay()+1);return 0>o(n,e=new Date(e.ha+1900,e.qa,e.ta))?i(Math.ceil((31-n.getDate()+(ft(lt(e.getFullYear())?ht:dt,e.getMonth()-1)-31)+e.getDate())/7),2):0===o(n,t)?"01":"00"},"%y":function(e){return(e.ha+1900).toString().substring(2)},"%Y":function(e){return e.ha+1900},"%z":function(e){var t=0<=(e=e.cb);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.gb},"%%":function(){return"%"}},n=n.replace(/%%/g,"\\0\\0"),c)n.includes(l)&&(n=n.replace(new RegExp(l,"g"),c[l](r)));return l=function(e){var t=Array(w(e)+1);return b(e,t,0,t.length),t}(n=n.replace(/\\0\\0/g,"%")),l.length>t?0:(T.set(l,e),l.length-1)}ce=t.InternalError=se("InternalError");for(var vt=Array(256),gt=0;256>gt;++gt)vt[gt]=String.fromCharCode(gt);pe=vt,ve=t.BindingError=se("BindingError"),We.prototype.isAliasOf=function(e){if(!(this instanceof We&&e instanceof We))return!1;var t=this.ca.fa.da,n=this.ca.ea,r=e.ca.fa.da;for(e=e.ca.ea;t.la;)n=t.ua(n),t=t.la;for(;r.la;)e=r.ua(e),r=r.la;return t===r&&n===e},We.prototype.clone=function(){if(this.ca.ea||be(this),this.ca.ra)return this.ca.count.value+=1,this;var e=Se,t=Object,n=t.create,r=Object.getPrototypeOf(this),a=this.ca;return(e=e(n.call(t,r,{ca:{value:{count:a.count,pa:a.pa,ra:a.ra,ea:a.ea,fa:a.fa,ga:a.ga,ka:a.ka}}}))).ca.count.value+=1,e.ca.pa=!1,e},We.prototype.delete=function(){this.ca.ea||be(this),this.ca.pa&&!this.ca.ra&&ge("Object already scheduled for deletion"),Ae(this),Te(this.ca),this.ca.ra||(this.ca.ga=void 0,this.ca.ea=void 0)},We.prototype.isDeleted=function(){return!this.ca.ea},We.prototype.deleteLater=function(){return this.ca.ea||be(this),this.ca.pa&&!this.ca.ra&&ge("Object already scheduled for deletion"),_e.push(this),1===_e.length&&Pe&&Pe(De),this.ca.pa=!0,this},t.getInheritedInstanceCount=function(){return Object.keys(Ee).length},t.getLiveInheritedInstances=function(){var e,t=[];for(e in Ee)Ee.hasOwnProperty(e)&&t.push(Ee[e]);return t},t.flushPendingDeletes=De,t.setDelayFunction=function(e){Pe=e,_e.length&&Pe&&Pe(De)},Be.prototype.Wa=function(e){return this.Ma&&(e=this.Ma(e)),e},Be.prototype.Ka=function(e){this.ja&&this.ja(e)},Be.prototype.argPackAdvance=8,Be.prototype.readValueFromPointer=ne,Be.prototype.deleteObject=function(e){null!==e&&e.delete()},Be.prototype.fromWireType=function(e){function t(){return this.xa?Oe(this.da.na,{fa:this.Za,ea:n,ka:this,ga:e}):Oe(this.da.na,{fa:this,ea:e})}var n=this.Wa(e);if(!n)return this.Ka(e),null;var r=function(e,t){for(void 0===t&&ge("ptr should not be undefined");e.la;)t=e.ua(t),e=e.la;return Ee[t]}(this.da,n);if(void 0!==r)return 0===r.ca.count.value?(r.ca.ea=n,r.ca.ga=e,r.clone()):(r=r.clone(),this.Ka(e),r);if(r=this.da.Va(n),!(r=ke[r]))return t.call(this);r=this.wa?r.Oa:r.pointerType;var a=Ce(n,this.da,r.da);return null===a?t.call(this):this.xa?Oe(r.da.na,{fa:r,ea:a,ka:this,ga:e}):Oe(r.da.na,{fa:r,ea:a})},xe=t.UnboundTypeError=se("UnboundTypeError"),t.count_emval_handles=function(){for(var e=0,t=5;t<qe.length;++t)void 0!==qe[t]&&++e;return e},t.get_first_emval=function(){for(var e=5;e<qe.length;++e)if(void 0!==qe[e])return qe[e];return null};var yt={k:function(e){return bt(e+16)+16},j:function(e,t,n){throw new Q(e).Na(t,n),e},N:function(e){var t=ee[e];delete ee[e];var n=t.elements,r=n.length,a=n.map((function(e){return e.Ea})).concat(n.map((function(e){return e.Ia}))),i=t.sa,o=t.ja;fe([e],a,(function(e){return n.forEach((function(t,n){var a=e[n],i=t.Ca,o=t.Da,u=e[n+r],s=t.Ha,c=t.Ja;t.read=e=>a.fromWireType(i(o,e)),t.write=(e,t)=>{var n=[];s(c,e,u.toWireType(n,t)),te(n)}})),[{name:t.name,fromWireType:function(e){for(var t=Array(r),a=0;a<r;++a)t[a]=n[a].read(e);return o(e),t},toWireType:function(e,a){if(r!==a.length)throw new TypeError("Incorrect number of tuple elements for "+t.name+": expected="+r+", actual="+a.length);for(var u=i(),s=0;s<r;++s)n[s].write(u,a[s]);return null!==e&&e.push(o,u),u},argPackAdvance:8,readValueFromPointer:ne,ia:o}]}))},P:function(e){var t=he[e];delete he[e];var n=t.sa,r=t.ja,a=t.La;fe([e],a.map((function(e){return e.Ea})).concat(a.map((function(e){return e.Ia}))),(function(e){var i={};return a.forEach((function(t,n){var r=e[n],o=t.Ca,u=t.Da,s=e[n+a.length],c=t.Ha,l=t.Ja;i[t.Ta]={read:function(e){return r.fromWireType(o(u,e))},write:function(e,t){var n=[];c(l,e,s.toWireType(n,t)),te(n)}}})),[{name:t.name,fromWireType:function(e){var t,n={};for(t in i)n[t]=i[t].read(e);return r(e),n},toWireType:function(e,t){for(var a in i)if(!(a in t))throw new TypeError(\'Missing field:  "\'+a+\'"\');var o=n();for(a in i)i[a].write(o,t[a]);return null!==e&&e.push(r,o),o},argPackAdvance:8,readValueFromPointer:ne,ia:r}]}))},A:function(){},K:function(e,t,n,r,a){var i=de(n);ye(e,{name:t=me(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:a},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var r=T;else if(2===n)r=k;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=D}return this.fromWireType(r[e>>i])},ia:null})},w:function(e,n,r,a,i,o,u,s,c,l,f,h,d){f=me(f),o=Ye(i,o),s&&(s=Ye(u,s)),l&&(l=Ye(c,l)),d=Ye(h,d);var p=oe(f);Me(p,(function(){Ve("Cannot construct "+f+" due to unbound types",[a])})),fe([e,n,r],a?[a]:[],(function(n){if(n=n[0],a)var r=n.da,i=r.na;else i=We.prototype;n=ue(p,(function(){if(Object.getPrototypeOf(this)!==u)throw new ve("Use \'new\' to construct "+f);if(void 0===c.oa)throw new ve(f+" has no accessible constructor");var e=c.oa[arguments.length];if(void 0===e)throw new ve("Tried to invoke ctor of "+f+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(c.oa).toString()+") parameters instead!");return e.apply(this,arguments)}));var u=Object.create(i,{constructor:{value:n}});n.prototype=u;var c=new je(f,n,u,d,r,o,s,l);r=new Be(f,c,!0,!1),i=new Be(f+"*",c,!1,!1);var h=new Be(f+" const*",c,!1,!0);return ke[e]={pointerType:i,Oa:h},function(e,n){t.hasOwnProperty(e)||le("Replacing nonexistant public symbol"),t[e]=n,t[e].va=void 0}(p,n),[r,i,h]}))},t:function(e,t,n,r,a,i){0<t||$(void 0);var o=Le(t,n);a=Ye(r,a),fe([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.da.oa&&(e.da.oa=[]),void 0!==e.da.oa[t-1])throw new ve("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class \'"+e.name+"\'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.da.oa[t-1]=()=>{Ve("Cannot construct "+e.name+" due to unbound types",o)},fe([],o,(function(r){return r.splice(1,0,null),e.da.oa[t-1]=ze(n,r,null,a,i),[]})),[]}))},l:function(e,t,n,r,a,i,o,u){var s=Le(n,r);t=me(t),i=Ye(a,i),fe([],[e],(function(e){function r(){Ve("Cannot call "+a+" due to unbound types",s)}var a=(e=e[0]).name+"."+t;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),u&&e.da.$a.push(t);var c=e.da.na,l=c[t];return void 0===l||void 0===l.ma&&l.className!==e.name&&l.va===n-2?(r.va=n-2,r.className=e.name,c[t]=r):(Fe(c,t,a),c[t].ma[n-2]=r),fe([],s,(function(r){return r=ze(a,r,e,i,o),void 0===c[t].ma?(r.va=n-2,c[t]=r):c[t].ma[n-2]=r,[]})),[]}))},m:function(e,t,n,r,a,i,o,u,s,c){t=me(t),a=Ye(r,a),fe([],[e],(function(e){var r=(e=e[0]).name+"."+t,l={get:function(){Ve("Cannot access "+r+" due to unbound types",[n,o])},enumerable:!0,configurable:!0};return l.set=s?()=>{Ve("Cannot access "+r+" due to unbound types",[n,o])}:()=>{ge(r+" is a read-only property")},Object.defineProperty(e.da.na,t,l),fe([],s?[n,o]:[n],(function(n){var o=n[0],l={get:function(){var t=$e(this,e,r+" getter");return o.fromWireType(a(i,t))},enumerable:!0};if(s){s=Ye(u,s);var f=n[1];l.set=function(t){var n=$e(this,e,r+" setter"),a=[];s(c,n,f.toWireType(a,t)),te(a)}}return Object.defineProperty(e.da.na,t,l),[]})),[]}))},J:function(e,t){ye(e,{name:t=me(t),fromWireType:function(e){var t=Xe(e);return Je(e),t},toWireType:function(e,t){return Ke(t)},argPackAdvance:8,readValueFromPointer:ne,ia:null})},M:function(e,t,n,r){function a(){}n=de(n),t=me(t),a.values={},ye(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:Ze(t,n,r),ia:null}),Me(t,a)},n:function(e,t,n){var r=Qe(e,"enum");t=me(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:ue(r.name+"_"+t,(function(){}))}}),e.values[n]=r,e[t]=r},u:function(e,t,n){n=de(n),ye(e,{name:t=me(t),fromWireType:function(e){return e},toWireType:function(e,t){return t},argPackAdvance:8,readValueFromPointer:tt(t,n),ia:null})},i:function(e,t,n,r,a){t=me(t),-1===a&&(a=4294967295),a=de(n);var i=e=>e;if(0===r){var o=32-8*n;i=e=>e<<o>>>o}n=t.includes("unsigned")?function(e,t){return t>>>0}:function(e,t){return t},ye(e,{name:t,fromWireType:i,toWireType:n,argPackAdvance:8,readValueFromPointer:nt(t,a,0!==r),ia:null})},g:function(e,t,n){function r(e){var t=P;return new a(A,t[1+(e>>=2)],t[e])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];ye(e,{name:n=me(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{Ya:!0})},v:function(e,t){var n="std::string"===(t=me(t));ye(e,{name:t,fromWireType:function(e){var t=P[e>>2];if(n)for(var r=e+4,a=0;a<=t;++a){var i=e+4+a;if(a==t||0==C[i]){if(r=r?y(C,r,i-r):"",void 0===o)var o=r;else o+=String.fromCharCode(0),o+=r;r=i+1}}else{for(o=Array(t),a=0;a<t;++a)o[a]=String.fromCharCode(C[e+4+a]);o=o.join("")}return wt(e),o},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"==typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||ge("Cannot pass non-string to std::string");var a=(n&&r?()=>w(t):()=>t.length)(),i=bt(4+a+1);if(P[i>>2]=a,n&&r)b(t,C,i+4,a+1);else if(r)for(r=0;r<a;++r){var o=t.charCodeAt(r);255<o&&(wt(i),ge("String has UTF-16 code units that do not fit in 8 bits")),C[i+4+r]=o}else for(r=0;r<a;++r)C[i+4+r]=t[r];return null!==e&&e.push(wt,i),i},argPackAdvance:8,readValueFromPointer:ne,ia:function(e){wt(e)}})},q:function(e,t,n){if(n=me(n),2===t)var r=W,a=F,i=M,o=()=>_,u=1;else 4===t&&(r=j,a=R,i=N,o=()=>P,u=2);ye(e,{name:n,fromWireType:function(e){for(var n,a=P[e>>2],i=o(),s=e+4,c=0;c<=a;++c){var l=e+4+c*t;c!=a&&0!=i[l>>u]||(s=r(s,l-s),void 0===n?n=s:(n+=String.fromCharCode(0),n+=s),s=l+t)}return wt(e),n},toWireType:function(e,r){"string"!=typeof r&&ge("Cannot pass non-string to C++ string type "+n);var o=i(r),s=bt(4+o+t);return P[s>>2]=o>>u,a(r,s+4,o+t),null!==e&&e.push(wt,s),s},argPackAdvance:8,readValueFromPointer:ne,ia:function(e){wt(e)}})},O:function(e,t,n,r,a,i){ee[e]={name:me(t),sa:Ye(n,r),ja:Ye(a,i),elements:[]}},r:function(e,t,n,r,a,i,o,u,s){ee[e].elements.push({Ea:t,Ca:Ye(n,r),Da:a,Ia:i,Ha:Ye(o,u),Ja:s})},Q:function(e,t,n,r,a,i){he[e]={name:me(t),sa:Ye(n,r),ja:Ye(a,i),La:[]}},o:function(e,t,n,r,a,i,o,u,s,c){he[e].La.push({Ta:me(t),Ea:n,Ca:Ye(r,a),Da:i,Ia:o,Ha:Ye(u,s),Ja:c})},L:function(e,t){ye(e,{kb:!0,name:t=me(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},f:function(e,t,n){e=Xe(e),t=Qe(t,"emval::as");var r=[],a=Ke(r);return D[n>>2]=a,t.toWireType(r,e)},a:Je,d:function(e,t){return Ke((e=Xe(e))[t=Xe(t)])},x:function(e){4<e&&(qe[e].Ga+=1)},b:function(e){return"number"==typeof(e=Xe(e))},c:function(e){var t=at[e];return Ke(void 0===t?me(e):t)},e:function(e){te(Xe(e)),Je(e)},y:function(e,t){return Ke(e=(e=Qe(e,"_emval_take_value")).readValueFromPointer(t))},h:function(){$("")},G:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return D[Ct()>>2]=28,-1;e=rt()}return D[t>>2]=e/1e3|0,D[t+4>>2]=e%1e3*1e6|0,0},I:function(e,t,n){C.copyWithin(e,t,t+n)},p:function(e){var t=C.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296);var a=Math;r=Math.max(e,r),a=a.min.call(a,2147483648,r+(65536-r%65536)%65536);e:{try{m.grow(a-A.byteLength+65535>>>16),I();var i=1;break e}catch(e){}i=void 0}if(i)return!0}return!1},D:function(e,t){var n=0;return ot().forEach((function(r,a){var i=t+n;for(a=D[e+4*a>>2]=i,i=0;i<r.length;++i)T[a++>>0]=r.charCodeAt(i);T[a>>0]=0,n+=r.length+1})),0},E:function(e,t){var n=ot();D[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),D[t>>2]=r,0},H:function(){return 0},F:function(e,t,n,r){return e=ct.jb(e),t=ct.hb(e,t,n),D[r>>2]=t,0},z:function(){},s:function(e,t,n,r){for(var a=0,i=0;i<n;i++){var o=D[t>>2],u=D[t+4>>2];t+=8;for(var s=0;s<u;s++){var c=C[o+s],l=st[e];0===c||10===c?((1===e?d:p)(y(l,0)),l.length=0):l.push(c)}a+=u}return D[r>>2]=a,0},B:function(){},C:function(e,t,n,r){return mt(e,t,n,r)}};!function(){function e(e){t.asm=e.exports,m=t.asm.R,I(),U=t.asm.V,Y.unshift(t.asm.S),L--,t.monitorRunDependencies&&t.monitorRunDependencies(L),0==L&&z&&(e=z,z=null,e())}function n(t){e(t.instance)}function r(e){return(h||!s&&!c||"function"!=typeof fetch?Promise.resolve().then((function(){return J()})):fetch(V,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at \'"+V+"\'";return e.arrayBuffer()})).catch((function(){return J()}))).then((function(e){return WebAssembly.instantiate(e,i)})).then((function(e){return e})).then(e,(function(e){p("failed to asynchronously prepare wasm: "+e),$(e)}))}var i={a:yt};if(L++,t.monitorRunDependencies&&t.monitorRunDependencies(L),t.instantiateWasm)try{return t.instantiateWasm(i,e)}catch(e){return p("Module.instantiateWasm callback failed with error: "+e),!1}(h||"function"!=typeof WebAssembly.instantiateStreaming||G()||"function"!=typeof fetch?r(n):fetch(V,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,i).then(n,(function(e){return p("wasm streaming compile failed: "+e),p("falling back to ArrayBuffer instantiation"),r(n)}))}))).catch(a)}(),t.___wasm_call_ctors=function(){return(t.___wasm_call_ctors=t.asm.S).apply(null,arguments)};var bt=t._malloc=function(){return(bt=t._malloc=t.asm.T).apply(null,arguments)},wt=t._free=function(){return(wt=t._free=t.asm.U).apply(null,arguments)},At=t.___getTypeName=function(){return(At=t.___getTypeName=t.asm.W).apply(null,arguments)};t.___embind_register_native_and_builtin_types=function(){return(t.___embind_register_native_and_builtin_types=t.asm.X).apply(null,arguments)};var Tt,Ct=t.___errno_location=function(){return(Ct=t.___errno_location=t.asm.Y).apply(null,arguments)};function kt(){function e(){if(!Tt&&(Tt=!0,t.calledRun=!0,!v)){if(X(Y),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var e=t.postRun.shift();x.unshift(e)}X(x)}}if(!(0<L)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)H();X(B),0<L||(t.setStatus?(t.setStatus("Running..."),setTimeout((function(){setTimeout((function(){t.setStatus("")}),1),e()}),1)):e())}}if(t.dynCall_jiji=function(){return(t.dynCall_jiji=t.asm.Z).apply(null,arguments)},t.dynCall_viijii=function(){return(t.dynCall_viijii=t.asm._).apply(null,arguments)},t.dynCall_iiiiij=function(){return(t.dynCall_iiiiij=t.asm.$).apply(null,arguments)},t.dynCall_iiiiijj=function(){return(t.dynCall_iiiiijj=t.asm.aa).apply(null,arguments)},t.dynCall_iiiiiijj=function(){return(t.dynCall_iiiiiijj=t.asm.ba).apply(null,arguments)},z=function e(){Tt||kt(),Tt||(z=e)},t.run=kt,t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return kt(),e.ready});e.exports=r,"function"==typeof AudioWorkletGlobalScope&&(globalThis.createAudioEngine=r)}(e);var t=e.exports;const n=30,r=3,a=2;function i(e){const t=new Int16Array(e.length);for(let n=0;n<e.length;++n)t[n]=Math.round(Math.max(-32768,Math.min(32767,32768*e[n])));return t}class o extends AudioWorkletProcessor{constructor(){super(),this.enabled=!1,this.frameCount=0,this.bufferTime=n,this.dumpBundleNums=r,this.threshold=a,this.isDumping=!1,this.dumpBundleNumCount=0,this.dumpBundleFrameCount=0,this.port.onmessage=this.handleMessageEvent.bind(this)}process(e,t){const[[n]]=e;if(!n)return!0;const[[r]]=t;if(this.enabled&&this.buffer&&this.kernel)try{const e=this.buffer;e.getChannelData(0).set(n);const t=this.kernel.process(e,e);r.set(e.getChannelData(0)),t!==this.lastStatus&&(this.onStatusChange(t),this.lastStatus=t),this.isDumping&&(this.dumpBundleFrameCount+=r.length,this.dumpBundleFrameCount>=this.bufferTime*sampleRate&&(this.dumpBundleFrameCount=0,this.dump())),this.frameCount+=r.length;const a=sampleRate/2;for(;this.frameCount>=a;)this.uploadStats(),this.frameCount-=a}catch(e){r.set(n),this.log("error",`[ai-denoiser-worklet] detect error from wasm: ${e}`)}else r.set(n);return!0}log(e,t){this.port.postMessage({event:"log",level:e,message:t})}getValue(){var e;const t=this.enabled?null===(e=this.kernel)||void 0===e?void 0:e.value:1;this.port.postMessage({event:"getValue",value:t})}getLevel(){var e;const t=this.enabled?null===(e=this.kernel)||void 0===e?void 0:e.level:1;this.port.postMessage({event:"getLevel",level:t})}enable(){this.enabled||(this.enabled=!0,this.log("debug","[ai-denoiser-worklet] denoiser was enabled")),this.port.postMessage({event:"enable"})}disable(){this.enabled&&(this.enabled=!1,this.isDumping&&(this.dump(),this.endDump()),this.reset(),this.log("debug","[ai-denoiser-worklet] denoiser was disabled")),this.port.postMessage({event:"disable"})}startDump(){this.isDumping?this.log("debug","[ai-denoiser-worklet] dump has already started"):(this.isDumping=!0,this.dumpBundleNumCount=0,this.dumpBundleFrameCount=0,this.dump(),this.log("debug","[ai-denoiser-worklet] dump started"))}dump(){if(this.kernel){const e=this.kernel.dump(this.bufferTime),t=new Float32Array(e[0].numberOfFrames),n=new Float32Array(e[1].numberOfFrames),r=new Float32Array(e[2].numberOfFrames);t.set(e[0].getChannelData(0)),n.set(e[1].getChannelData(0)),r.set(e[2].getChannelData(0)),e[0].delete(),e[1].delete(),e[2].delete();const a=i(t),o=i(n),u=i(r);this.log("debug",`[ai-denoiser-worklet] dump: input ${a.length*Int16Array.BYTES_PER_ELEMENT} bytes, nsOut ${o.length*Int16Array.BYTES_PER_ELEMENT} bytes, agcOut ${u.length*Int16Array.BYTES_PER_ELEMENT} bytes`),this.port.postMessage({event:"dump",dump:{input:a,nsOut:o,agcOut:u},lts:Date.now()},[a.buffer,o.buffer,u.buffer]),this.dumpBundleNumCount+=1,this.dumpBundleNumCount>=this.dumpBundleNums&&this.endDump()}}endDump(){this.isDumping?(this.isDumping=!1,this.log("debug","[ai-denoiser-worklet] dump ended")):this.log("debug","[ai-denoiser-worklet] dump has already ended"),this.port.postMessage({evnet:"dumpend"})}setParameters(e){this.kernel&&(this.kernel.setNsParams(e),this.log("debug",`[ai-denoiser-worklet] set ns params ${JSON.stringify(e)}`)),this.port.postMessage({event:"setParameters"})}setAgcParameters(e){this.kernel&&(this.kernel.setAgcParams(e),this.log("debug",`[ai-denoiser-worklet] set agc params ${JSON.stringify(e)}`)),this.port.postMessage({event:"setAgcParameters"})}initialize(e,n,r,a,i,o){t({wasmBinary:e}).then((e=>{this.module=e,this.buffer=new e.AudioBuffer(1,128),this.kernel=new e.AudioDenoiser(sampleRate,n,r,a),this.lastStatus=e.AudioDenoiserStatus.UNCERTAIN,this.bufferTime=a,this.dumpBundleNums=i,this.threshold=o,this.log("debug",`[ai-denoiser-worklet] kernel version: ${this.kernel.version}-${this.kernel.buildInfo}, options: {sampleRate: ${sampleRate}, enabled: ${n}, agc: ${r}, bufferTime: ${a}, dumpBundleNums: ${i}, threshold: ${o}}`),this.port.postMessage({event:"initialize"})})).catch((e=>{this.port.postMessage({event:"initialize",error:e})}))}reset(){var e,t;null===(e=this.kernel)||void 0===e||e.reset(),this.lastStatus=null===(t=this.module)||void 0===t?void 0:t.AudioDenoiserStatus.UNCERTAIN}destroy(){var e,t;this.module=void 0,null===(e=this.buffer)||void 0===e||e.delete(),this.buffer=void 0,null===(t=this.kernel)||void 0===t||t.delete(),this.kernel=void 0,this.lastStatus=void 0,this.log("debug","[ai-denoiser-worklet] denoiser was destroyed"),this.port.postMessage({event:"destroy"})}uploadStats(){if(!this.kernel)return;const e=this.kernel.getStats();this.port.postMessage({event:"stats",stats:{ebn:e.energy_bf_ns,ean:e.energy_af_ns,ns:e.ns_state,vl:e.vad_loss}}),this.threshold>0&&e.elapsed_time>this.threshold&&this.port.postMessage({event:"overload",elpasedTime:e.elapsed_time})}onStatusChange(e){var t;let n="UNKNOWN",r="debug";const a=null===(t=this.module)||void 0===t?void 0:t.AudioDenoiserStatus;a&&(e===a.UNCERTAIN?n="UNCERTAIN":e===a.NORMAL?n="NORMAL":e===a.DANGLY?n="DANGLY":e===a.STRONGBAD?(n="STRONGBAD",r="warning"):e===a.NOINPUT?(n="NOINPUT",r="warning"):e===a.NOOUTPUT&&(n="NOOUTPUT",r="warning")),this.log(r,`[ai-denoiser-worklet] kernel status changed to ${n}`)}handleMessageEvent(e){const t=e.data,n=t.event;"getValue"===n?this.getValue():"getLevel"===n?this.getLevel():"enable"===n?this.enable():"disable"===n?this.disable():"dump"===n?this.startDump():"setParameters"===n?this.setParameters(t.parameters):"setAgcParameters"===n?this.setAgcParameters(t.agcParameters):"initialize"===n?this.initialize(t.wasmSource,t.enabled,t.agc,t.bufferTime,t.dumpBundleNums,t.threshold):"destroy"===n&&this.destroy()}}registerProcessor("ai-denoiser-worklet-processor",o)}();\n'],{type:"text/javascript"}),r=URL.createObjectURL(t);yield e.audioWorklet.addModule(r),setTimeout((()=>URL.revokeObjectURL(r)),0),g.registeredContexts.add(e),e.addEventListener("statechange",(function t(){"closed"===e.state&&(g.registeredContexts.delete(e),e.removeEventListener("statechange",t))}))}const o=new g(e,u);return yield o.initialize(t,r,n,i,a,s),o}))}get node(){return this.workletNode}getValue(){return o(this,void 0,void 0,(function*(){return(yield this.requestResponse({event:"getValue"})).value}))}getLevel(){return o(this,void 0,void 0,(function*(){return(yield this.requestResponse({event:"getLevel"})).level}))}enable(){return this.requestResponse({event:"enable"})}disable(){return this.requestResponse({event:"disable"})}dump(){this.workletNode.port.postMessage({event:"dump"})}setParameters(e){return this.requestResponse({event:"setParameters",parameters:e})}setAgcParameters(e){return this.requestResponse({event:"setAgcParameters",agcParameters:e})}initialize(e,t,r,n,o,i){return this.requestResponse({event:"initialize",wasmSource:e,enabled:t,agc:r,bufferTime:n,dumpBundleNums:o,threshold:i})}destroy(){return this.requestResponse({event:"destroy"})}handleMessageEvent(e){const t=e.data,r=t.event;"stats"===r?this.dispatchEvent(new CustomEvent("stats",{detail:{stats:t.stats}})):"log"===r?n.exports.logger[t.level](t.message):"overload"===r?this.dispatchEvent(new CustomEvent("overload",{detail:{elapsedTime:t.elapsedTime}})):"dump"===r?this.dispatchEvent(new CustomEvent("dump",{detail:{dump:t.dump,lts:t.lts}})):"dumpend"===r&&this.dispatchEvent(new CustomEvent("dumpend"))}requestResponse(e,t=[]){return new Promise(((r,n)=>{const o=this.workletNode.port;o.addEventListener("message",(function t(i){i.data.event===e.event&&(o.removeEventListener("message",t),i.data.error?n(i.data.error):r(i.data))})),o.postMessage(e,t),o.start()}))}}g.registeredContexts=new Set;class m extends n.exports.AudioProcessor{constructor(e){var t,r;super(),this.name="AIDenoiserProcessor",this.wasmSource=e.wasmSource,this.statsCount=0,this._enabled=!0===(null===(r=null===(t=d.parameters)||void 0===t?void 0:t.AI_DENOISER_PARAMETERS)||void 0===r?void 0:r.enabled),this.on("dump",((e,t)=>{var r;return null===(r=this.ondump)||void 0===r?void 0:r.call(this,e,t)})),this.on("dumpend",(()=>{var e;return null===(e=this.ondumpend)||void 0===e?void 0:e.call(this)})),this.on("overload",(e=>{var t;return null===(t=this.onoverload)||void 0===t?void 0:t.call(this,e)})),n.exports.logger.debug(`[ai-denoiser-processor] construct denoiser processor, enabled: ${this.enabled}`),n.exports.reporter.reportApiInvoke({name:`${this.name}.constructor`,options:[]}).onSuccess()}dump(){const e=n.exports.reporter.reportApiInvoke({name:`${this.name}.dump`,options:[]});if(!this.workletHandler){const t=new Error("processor is not piped");throw e.onError(t),t}this.workletHandler.then((t=>{t.dump(),e.onSuccess()})).catch((t=>{n.exports.logger.error(`[ai-denoiser-processor] failed to dump: ${t}`),e.onError(t)}))}setMode(t){return o(this,void 0,void 0,(function*(){const r=n.exports.reporter.reportApiInvoke({name:`${this.name}.setMode`,options:[t]});try{if(!this.workletHandler)throw new Error("processor is not piped");const o=yield this.workletHandler;if(t===e.AIDenoiserProcessorMode.STATIONARY_NS)yield o.setParameters(c);else{if(t!==e.AIDenoiserProcessorMode.NSNG)throw n.exports.logger.error(`[ai-denoiser-processor] unknown mode: ${t}`),new Error(`unknown mode: ${t}`);yield o.setParameters(l)}r.onSuccess()}catch(e){throw r.onError(e),e}}))}setLevel(t){return o(this,void 0,void 0,(function*(){const r=n.exports.reporter.reportApiInvoke({name:`${this.name}.setLevel`,options:[t]});try{if(!this.workletHandler)throw new Error("processor is not piped");const o=yield this.workletHandler;if(t===e.AIDenoiserProcessorLevel.SOFT)yield o.setParameters(f);else{if(t!==e.AIDenoiserProcessorLevel.AGGRESSIVE)throw n.exports.logger.error(`[ai-denoiser-processor] unknown level: ${t}`),new Error(`unknown level: ${t}`);yield o.setParameters(p)}r.onSuccess()}catch(e){throw r.onError(e),e}}))}setNsParams(e){return o(this,void 0,void 0,(function*(){const t=n.exports.reporter.reportApiInvoke({name:`${this.name}.setNsParams`,options:[e]});try{if(!this.workletHandler)throw new Error("processor is not piped");const r=yield this.workletHandler;yield r.setParameters(e),t.onSuccess()}catch(e){throw t.onError(e),e}}))}setAgcParams(e){return o(this,void 0,void 0,(function*(){const t=n.exports.reporter.reportApiInvoke({name:`${this.name}.setAgcParams`,options:[e]});try{if(!this.workletHandler)throw new Error("processor is not piped");const r=yield this.workletHandler;yield r.setAgcParameters(e),t.onSuccess()}catch(e){throw t.onError(e),e}}))}onEnableChange(){var e,t,r,i;return o(this,void 0,void 0,(function*(){if(this.enabled){if((null===(e=d.parameters)||void 0===e?void 0:e.ADJUST_3A_FROM_PLUGINS)&&(yield null===(t=this.context)||void 0===t?void 0:t.requestApplyConstraints(a,this)),this.workletHandler){const e=yield this.workletHandler;yield e.enable(),n.exports.logger.debug("[ai-denoiser-processor] denoiser node enabled")}}else if((null===(r=d.parameters)||void 0===r?void 0:r.ADJUST_3A_FROM_PLUGINS)&&(yield null===(i=this.context)||void 0===i?void 0:i.requestRevertConstraints(this)),this.workletHandler){const e=yield this.workletHandler;yield e.disable(),n.exports.logger.debug("[ai-denoiser-processor] denoiser node disabled")}}))}onPiped(e){if("function"!=typeof e.getDirection)throw new Error("does not support sdk <4.15.0");this.workletHandler||(this.workletHandler=this.wasmSource.then((t=>{var r,o;n.exports.logger.debug(`[ai-denoiser-processor] denosier node init ${JSON.stringify(null===(r=d.parameters)||void 0===r?void 0:r.AI_DENOISER_PARAMETERS)}`);const i=Object.assign(Object.assign({},u),null===(o=d.parameters)||void 0===o?void 0:o.AI_DENOISER_PARAMETERS);return g.create(e.getAudioContext(),t,i.ains,i.agc,i.bufferTime,i.dumpBundleNums,i.threshold)})).then((e=>this.setup(e)))),this.workletHandler=this.workletHandler.then((t=>{var r,n,i,s;this.enabled&&(null===(r=d.parameters)||void 0===r?void 0:r.ADJUST_3A_FROM_PLUGINS)&&e.requestApplyConstraints(a,this),e.registerStats(this,"denoiser_stats",(()=>{const e=this.stats;return this.stats=void 0,e}));const u=e.getDirection(),c=null!==(s=null===(i=null===(n=d.parameters)||void 0===n?void 0:n.AI_DENOISER_PARAMETERS)||void 0===i?void 0:i.excludedLinks)&&void 0!==s?s:h,l="remote"===u?"ainsV2Downlink":"ainsV2";return c.includes(u)||e.registerUsage(this,(()=>o(this,void 0,void 0,(function*(){const e=yield t.getValue(),r=yield t.getLevel();return{id:l,level:null!=r?r:1,value:null!=e?e:1}})))),t}))}onUnpiped(){var e,t,r,n;if(this.context){const o=this.context;this.enabled&&(null===(e=d.parameters)||void 0===e?void 0:e.ADJUST_3A_FROM_PLUGINS)&&o.requestRevertConstraints(this),o.unregisterStats(this,"denoiser_stats");const i=null!==(n=null===(r=null===(t=d.parameters)||void 0===t?void 0:t.AI_DENOISER_PARAMETERS)||void 0===r?void 0:r.excludedLinks)&&void 0!==n?n:h,a=o.getDirection();i.includes(a)||o.unregisterUsage(this)}}onNode(e,t){var r;null===(r=this.workletHandler)||void 0===r||r.then((r=>{var o;const i=r.node;try{null===(o=this.lastInputNode)||void 0===o||o.disconnect(i)}catch(e){}e.connect(i),this.lastInputNode=e,this.output(i,t),n.exports.logger.debug("[ai-denoiser-processor] connected worklet node"),i.onprocessorerror=r=>{n.exports.logger.error(`[ai-denoiser-processor] detected error from worklet node: ${r.error}`),this.output(e,t)}})).catch((r=>{n.exports.logger.error(`[ai-denoiser-processor] failed to pipe: ${r}`),this.emitAsPromiseNoResponse("loaderror",r),this.output(e,t)}))}handleStatsEvent(e){const t=e.detail.stats;(++this.statsCount>=4||!this.stats)&&(this.statsCount=0,this.stats={ebn:0,ean:0,ns:0,vl:0}),t.ebn&&(this.stats.ebn=this.stats.ebn<<8&4294967295|255&t.ebn),t.ean&&(this.stats.ean=this.stats.ean<<8&4294967295|255&t.ean),t.ns&&(this.stats.ns=this.stats.ns<<8&4294967295|255&t.ns),t.vl&&(this.stats.vl=this.stats.vl<<8&4294967295|255&t.vl)}handleDump(e,t){const r=new Blob([e],{type:"audio/pcm"});this.emitAsPromiseNoResponse("dump",r,t)}handleDumpEvent(e){var t,r,n;const o=e.detail,i=o.dump,a=o.lts;(null===(t=i.input)||void 0===t?void 0:t.length)&&this.handleDump(i.input,`input_16000hz_1ch_${a}.pcm`),(null===(r=i.nsOut)||void 0===r?void 0:r.length)&&this.handleDump(i.nsOut,`ns_out_16000hz_1ch_${a}.pcm`),(null===(n=i.agcOut)||void 0===n?void 0:n.length)&&this.handleDump(i.agcOut,`agc_out_16000hz_1ch_${a}.pcm`)}handleOverloadEvent(e){const t=e.detail.elapsedTime;n.exports.logger.warning(`[ai-denoiser-processor] denoiser overload, elapsed time: ${t}ms`),this.emitAsPromiseNoResponse("overload",t)}setup(e){var t;return o(this,void 0,void 0,(function*(){return e.addEventListener("stats",this.handleStatsEvent.bind(this)),e.addEventListener("dump",this.handleDumpEvent.bind(this)),e.addEventListener("dumpend",(()=>this.emitAsPromiseNoResponse("dumpend"))),e.addEventListener("overload",this.handleOverloadEvent.bind(this)),this.enabled?(yield e.enable(),n.exports.logger.debug("[ai-denoiser-processor] denoiser node enabled")):(yield e.disable(),n.exports.logger.debug("[ai-denoiser-processor] denoiser node disabled")),(null===(t=d.parameters)||void 0===t?void 0:t.AI_DENOISER_PARAMETERS)&&(d.parameters.AI_DENOISER_PARAMETERS.nsParameters&&(yield e.setParameters(d.parameters.AI_DENOISER_PARAMETERS.nsParameters)),d.parameters.AI_DENOISER_PARAMETERS.agcParameters&&(yield e.setAgcParameters(d.parameters.AI_DENOISER_PARAMETERS.agcParameters))),n.exports.logger.debug("[ai-denoiser-processor] denoiser node initialized"),e}))}}function y(e){return o(this,void 0,void 0,(function*(){const t=yield(async()=>WebAssembly.validate(new Uint8Array([0,97,115,109,1,0,0,0,1,5,1,96,0,1,123,3,2,1,0,10,10,1,8,0,65,0,253,15,253,98,11])))(),r=`${e}/${t?"denoiser-wasm-simd.wasm":"denoiser-wasm.wasm"}`,n=yield fetch(r);if(!n.ok)throw new Error(`failed to load WASM, response status: ${n.status}`);return n}))}class b extends n.exports.AudioExtension{constructor(e){super(),this.parameters=i,this.VERSION="1.1.0",this.BUILD="9019a23(11/10/2022, 5:31:24 PM)",this.wasmSource=y(e.assetsPath).then((e=>e.arrayBuffer())),d.parameters=this.parameters,n.exports.logger.debug(`[ai-denoiser-extension] ${this.VERSION}, ${this.BUILD} constructor ${JSON.stringify(e)}`),n.exports.reporter.reportApiInvoke({name:"AIDenoiserExtension.constructor",options:[`${this.VERSION}_${this.BUILD}`]}).onSuccess()}checkCompatibility(){try{const e=v()&&!!globalThis.WebAssembly&&!!globalThis.WebAssembly.compile;return n.exports.logger.debug(`[ai-denoiser-extension] supported AudioWorklet and WASM: ${e}`),e}catch(e){return!1}}_createProcessor(){n.exports.logger.debug("[ai-denoiser-extension] start create processor");const e=new m({wasmSource:this.wasmSource});return e.on("loaderror",(e=>{var t;return null===(t=this.onloaderror)||void 0===t?void 0:t.call(this,e)})),e}}e.AIDenoiserExtension=b,e.AIDenoiserProcessor=m,Object.defineProperty(e,"__esModule",{value:!0})}));
